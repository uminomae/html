<map id="ServerManeger::runServerLoop" name="ServerManeger::runServerLoop">
<area shape="rect" id="Node000001" title="サーバーのメインループを実行します。" alt="" coords="5,680,207,705"/>
<area shape="rect" id="Node000002" href="$class_network_service.html#a79b34078f8a4e6c978ab8fae8e4769db" title="poll()を使用してファイルディスクリプタのイベントを待ちます。" alt="" coords="274,557,456,583"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="122,677,178,635,215,612,254,593,274,585,276,590,256,597,217,617,181,640,125,681"/>
<area shape="rect" id="Node000003" href="$class_network_service.html#afc2ce78b98367413538d7d84537b867e" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="269,607,461,647"/>
<area shape="poly" id="edge2_Node000001_Node000003" title=" " alt="" coords="159,676,266,649,267,654,160,682"/>
<area shape="rect" id="Node000072" href="$class_network_service.html#a8849b9c719cb649dbbbae76d9981da7c" title="クライアントへの応答を処理します。" alt="" coords="270,672,460,713"/>
<area shape="poly" id="edge24_Node000001_Node000072" title=" " alt="" coords="207,690,254,690,254,695,207,695"/>
<area shape="rect" id="Node000076" href="$class_network_service.html#a79b80b9a51d73a85bb99b0ac0560a0c4" title="全てのサーバーsocket(port)でPOLLINフラグをチェックします" alt="" coords="266,795,464,835"/>
<area shape="poly" id="edge30_Node000001_Node000076" title=" " alt="" coords="136,703,307,785,305,790,134,708"/>
<area shape="rect" id="Node000085" href="$class_server_maneger.html#a104f42d342bf9d6af9c45c200d22facd" title="サーバーのループを再起動します。" alt="" coords="255,986,475,1012"/>
<area shape="poly" id="edge38_Node000001_Node000085" title=" " alt="" coords="120,704,344,972,340,976,116,707"/>
<area shape="rect" id="Node000004" href="$class_network_service.html#a16ed9bd4de8e026601eca26611647507" title="ソケットを閉じ、関連するリソースをクリーンアップします。" alt="" coords="540,607,716,647"/>
<area shape="poly" id="edge3_Node000003_Node000004" title=" " alt="" coords="461,624,524,624,524,630,461,630"/>
<area shape="rect" id="Node000006" href="$class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="527,460,729,501"/>
<area shape="poly" id="edge5_Node000003_Node000006" title=" " alt="" coords="452,604,474,593,488,581,498,569,521,542,573,507,576,511,525,546,502,573,492,585,476,597,454,608"/>
<area shape="rect" id="Node000071" href="$class_network_service.html#a7101de80b1b3b348f2012246c598b0e4" title="引数のイテレータがサーバーソケットを指しているかどうかを判断します。" alt="" coords="535,557,720,583"/>
<area shape="poly" id="edge23_Node000003_Node000071" title=" " alt="" coords="460,604,550,584,551,589,461,609"/>
<area shape="rect" id="Node000005" href="$class_network_service.html#a648626623792dd4752c1daaffe876ffc" title="指定されたソケットの接続を閉じます。" alt="" coords="780,614,1000,640"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="716,624,765,624,765,630,716,630"/>
<area shape="rect" id="Node000007" href="$class_http_workflow_manager.html#a09d2f69d56764717d9c9f65192ab6737" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="798,427,982,467"/>
<area shape="poly" id="edge6_Node000006_Node000007" title=" " alt="" coords="729,465,782,458,783,463,730,470"/>
<area shape="rect" id="Node000008" href="$class_response_str_build_state.html#a0f55d5f37e78c4ab37c97e40b74128e4" title="レスポンスボディを構築します。" alt="" coords="1323,488,1480,529"/>
<area shape="poly" id="edge7_Node000007_Node000008" title=" " alt="" coords="983,455,1308,495,1307,500,982,461"/>
<area shape="rect" id="Node000011" href="$class_response_str_build_state.html#aa9cd3a0aeb17b8500de1c08b89211fde" title="レスポンスヘッダを構築します。" alt="" coords="1323,599,1480,639"/>
<area shape="poly" id="edge8_Node000007_Node000011" title=" " alt="" coords="910,466,967,524,1006,554,1049,578,1113,600,1181,613,1247,619,1307,621,1307,626,1247,624,1181,618,1112,605,1047,583,1003,558,964,528,906,469"/>
<area shape="rect" id="Node000015" href="$class_response_str_build_state.html#a94307f5ba086893af9d589e97f7d73a5" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="1313,688,1490,729"/>
<area shape="poly" id="edge9_Node000007_Node000015" title=" " alt="" coords="910,466,953,526,1002,600,1014,629,1020,653,1029,674,1049,693,1078,708,1108,719,1172,732,1237,733,1297,728,1298,733,1237,738,1172,737,1107,724,1075,713,1046,697,1025,677,1015,655,1009,630,997,603,948,529,905,469"/>
<area shape="rect" id="Node000016" href="$class_http_workflow_manager.html#a0014db595ae6547c54ab46f4f3901ea9" title="有効なファイルパスを探索します。" alt="" coords="1081,757,1232,798"/>
<area shape="poly" id="edge10_Node000007_Node000016" title=" " alt="" coords="911,466,955,525,1002,601,1016,640,1020,674,1028,705,1036,721,1050,737,1069,752,1066,756,1046,741,1032,724,1023,707,1015,675,1011,642,997,603,951,528,907,469"/>
<area shape="rect" id="Node000017" href="$class_cgi_execution_state.html#a583ea5d0162a7f407a3377b9706d5157" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="1087,5,1226,46"/>
<area shape="poly" id="edge11_Node000007_Node000017" title=" " alt="" coords="891,426,902,356,928,257,949,203,974,150,1007,101,1046,57,1071,40,1074,45,1049,61,1011,104,979,153,954,205,934,259,908,357,896,427"/>
<area shape="rect" id="Node000033" href="$class_content_extraction_state.html#a1b828ff600c1530b66839c5507200cc9" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="1078,71,1235,111"/>
<area shape="poly" id="edge12_Node000007_Node000033" title=" " alt="" coords="893,425,908,366,937,284,957,241,982,198,1011,157,1046,122,1062,111,1065,116,1049,126,1015,161,986,201,962,243,942,286,913,368,898,427"/>
<area shape="rect" id="Node000035" href="$class_delete_method_state.html#aa04b270749d1d2f1e4558dcf1432f02d" title="疑似 Delete method 機能を処理します。" alt="" coords="1086,136,1227,177"/>
<area shape="poly" id="edge13_Node000007_Node000035" title=" " alt="" coords="896,425,915,377,946,313,989,246,1016,215,1046,188,1070,173,1073,178,1049,192,1020,218,994,249,950,315,919,379,901,427"/>
<area shape="rect" id="Node000036" href="$class_file_path_generation_state.html#a8ba1acd7412f965ec6e82e095f154cf9" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="1075,201,1238,242"/>
<area shape="poly" id="edge14_Node000007_Node000036" title=" " alt="" coords="900,425,923,388,956,342,997,294,1046,253,1059,245,1062,250,1049,257,1001,298,960,345,927,391,905,428"/>
<area shape="rect" id="Node000039" href="$class_identify_location_state.html#a6d6d0d17c501290cde9ac46f94425b86" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="1084,267,1229,307"/>
<area shape="poly" id="edge15_Node000007_Node000039" title=" " alt="" coords="910,424,968,372,1006,343,1046,318,1069,308,1071,313,1049,323,1009,347,972,376,913,428"/>
<area shape="rect" id="Node000044" href="$class_parsing_request_state.html#a2621c1d2bf5d432065dee9c5b13b904d" title="HTTPリクエストの解析を行います。" alt="" coords="1084,332,1229,373"/>
<area shape="poly" id="edge16_Node000007_Node000044" title=" " alt="" coords="941,424,1047,383,1070,375,1072,380,1049,388,943,429"/>
<area shape="rect" id="Node000057" href="$class_recv_header_lexer_state.html#ae494c259cb88bb3b824f6af8672d6376" title="データを逐次的に読み取りながら解析します。" alt="" coords="1078,397,1235,438"/>
<area shape="poly" id="edge17_Node000007_Node000057" title=" " alt="" coords="983,434,1062,425,1063,431,983,439"/>
<area shape="rect" id="Node000066" href="$class_response_str_build_state.html#a7b9feab17aef82874d3bc584a1f67e6f" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="1078,643,1235,683"/>
<area shape="poly" id="edge18_Node000007_Node000066" title=" " alt="" coords="906,466,963,541,1003,585,1049,622,1069,634,1066,638,1046,627,1000,588,959,545,902,469"/>
<area shape="rect" id="Node000067" href="$class_http_workflow_manager.html#adbff49b30d6647cb5381ba3d8cfb809e" title="HTTPリクエストに対して即座にレスポンスするべきかどうかを判断します。" alt="" coords="1056,513,1257,568"/>
<area shape="poly" id="edge22_Node000007_Node000067" title=" " alt="" coords="951,465,1061,504,1059,509,950,470"/>
<area shape="poly" id="edge19_Node000066_Node000008" title=" " alt="" coords="1189,640,1354,535,1356,539,1192,644"/>
<area shape="poly" id="edge20_Node000066_Node000011" title=" " alt="" coords="1235,646,1307,633,1308,638,1236,652"/>
<area shape="poly" id="edge21_Node000066_Node000015" title=" " alt="" coords="1236,675,1298,686,1297,692,1235,680"/>
<area shape="poly" id="edge25_Node000072_Node000004" title=" " alt="" coords="449,669,528,649,529,654,450,674"/>
<area shape="poly" id="edge26_Node000072_Node000071" title=" " alt="" coords="452,669,473,657,488,642,496,625,505,609,521,593,532,587,534,591,525,597,509,612,501,628,493,645,477,661,454,674"/>
<area shape="rect" id="Node000073" href="$class_socket_state.html#aa35c8e192050342d0a51050a15603c86" title="リセットします。" alt="" coords="542,672,713,713"/>
<area shape="poly" id="edge27_Node000072_Node000073" title=" " alt="" coords="460,690,527,690,527,695,460,695"/>
<area shape="rect" id="Node000074" href="$class_network_service.html#af9cd04add0e426e95a9fc680b06db23e" title="クライアントソケットへの応答メッセージを送信します。" alt="" coords="523,737,732,763"/>
<area shape="poly" id="edge28_Node000072_Node000074" title=" " alt="" coords="461,711,551,730,550,736,460,716"/>
<area shape="rect" id="Node000075" href="$class_network_service.html#aa2dc5eec9dfb61797bd77abf5a44a218" title="クライアントのリクエストヘッダーに &quot;Connection: keep&#45;alive&quot; が存在するか確認します。" alt="" coords="533,787,723,827"/>
<area shape="poly" id="edge29_Node000072_Node000075" title=" " alt="" coords="403,711,459,742,524,773,540,779,538,784,522,777,456,747,400,716"/>
<area shape="rect" id="Node000077" href="$class_network_service.html#a18b7f72724577a0fba37802fb36d8e7d" title="新しいクライアント接続を受け入れます。" alt="" coords="534,852,722,893"/>
<area shape="poly" id="edge31_Node000076_Node000077" title=" " alt="" coords="462,833,519,846,517,851,461,839"/>
<area shape="rect" id="Node000078" href="$class_network_service.html#a6fecddc50e233048c7e1632913dff0b5" title="新しいソケットを監視リストに追加します。" alt="" coords="1064,941,1249,982"/>
<area shape="poly" id="edge32_Node000077_Node000078" title=" " alt="" coords="723,881,854,899,1000,923,1056,935,1055,940,999,928,854,904,722,886"/>
<area shape="rect" id="Node000079" href="$class_network_service.html#ae230dece0329581a121b72f4437e0518" title="クライアントの状態をもつクラスのインスタンスを作成し、配列に追加します。" alt="" coords="790,757,990,798"/>
<area shape="poly" id="edge33_Node000077_Node000079" title=" " alt="" coords="700,849,731,837,755,823,779,809,797,801,799,806,782,813,758,827,733,841,702,854"/>
<area shape="rect" id="Node000080" href="$class_network_service.html#a63bbb5ebfaed19591fb547b3f0cfffc5" title="クライアントソケットとリスニングポートのマッピングを設定します。" alt="" coords="799,823,981,863"/>
<area shape="poly" id="edge34_Node000077_Node000080" title=" " alt="" coords="722,859,784,852,784,857,723,864"/>
<area shape="rect" id="Node000084" href="$class_network_service.html#a34440b127df8820b685c1fd564b0a558" title="指定されたソケットをノンブロッキングモードに設定します。" alt="" coords="803,1003,977,1043"/>
<area shape="poly" id="edge37_Node000077_Node000084" title=" " alt="" coords="652,891,708,939,744,965,782,987,796,994,793,999,779,992,741,969,705,943,649,895"/>
<area shape="rect" id="Node000081" href="$class_port_mapping.html#af2565580060648e513ff1096677d5d83" title="指定されたサーバーソケットのリッスンポート番号を取得します。" alt="" coords="1067,888,1246,913"/>
<area shape="poly" id="edge35_Node000080_Node000081" title=" " alt="" coords="982,860,1079,881,1078,886,980,865"/>
<area shape="rect" id="Node000083" href="$class_port_mapping.html#a868fe44581e5fcc88863e86a890503cf" title="クライアントソケットとリッスンポートのマッピングを設定します。" alt="" coords="1059,823,1254,863"/>
<area shape="poly" id="edge36_Node000080_Node000083" title=" " alt="" coords="981,840,1043,840,1043,846,981,846"/>
<area shape="rect" id="Node000086" href="$class_network_service.html#a54ae0e59338c8ffd4aabd39866bbf549" title="ネットワークサービスを再起動します。" alt="" coords="524,979,732,1019"/>
<area shape="poly" id="edge39_Node000085_Node000086" title=" " alt="" coords="475,996,508,996,508,1002,475,1002"/>
<area shape="rect" id="Node000089" href="$class_server_maneger.html#ab5e04aaf80feab4ba0522ab9311cf18f" title="設定ファイルを解析(parse)し、サーバーごとのポートでlistenを行い、pollfdを準備します。" alt="" coords="531,1141,725,1167"/>
<area shape="poly" id="edge42_Node000085_Node000089" title=" " alt="" coords="390,1010,592,1130,590,1135,387,1015"/>
<area shape="rect" id="Node000087" href="$class_network_service.html#a2cf75b7a3d9f4f6ffb04501be4a4f151" title="すべてのソケットの接続を閉じ、関係するデータを削除します。" alt="" coords="802,1068,978,1109"/>
<area shape="poly" id="edge40_Node000086_Node000087" title=" " alt="" coords="684,1017,781,1052,805,1060,803,1065,779,1058,682,1022"/>
<area shape="rect" id="Node000088" href="$class_network_service.html#aa669d89eac68ea824c823701a63c6030" title="ネットワークサービスを初期化します。" alt="" coords="796,937,984,978"/>
<area shape="poly" id="edge41_Node000086_Node000088" title=" " alt="" coords="732,980,780,972,781,978,733,985"/>
<area shape="poly" id="edge57_Node000089_Node000084" title=" " alt="" coords="645,1138,703,1097,779,1054,796,1047,798,1052,782,1059,705,1102,648,1142"/>
<area shape="rect" id="Node000090" href="$class_server_maneger.html#a7e69e2e48664fcd910c6bc0c7910b1d8" title="サーバーの設定が有効かどうかを包括的に検証します。" alt="" coords="793,1221,987,1247"/>
<area shape="poly" id="edge43_Node000089_Node000090" title=" " alt="" coords="673,1165,832,1213,830,1218,672,1170"/>
<area shape="rect" id="Node000092" href="$class_server_maneger.html#a539b692869df51d4655d8ab7633a3174" title="設定ファイルからサーバーの設定をロードします。" alt="" coords="805,1358,975,1384"/>
<area shape="poly" id="edge45_Node000089_Node000092" title=" " alt="" coords="647,1165,863,1346,860,1350,643,1169"/>
<area shape="rect" id="Node000107" href="$class_network_service.html#a44006dbf443e41fff6a628d72e356dd3" title=".confのサーバーディレクティブの設定に基づいてセットアップを行います。" alt="" coords="798,1133,982,1174"/>
<area shape="poly" id="edge51_Node000089_Node000107" title=" " alt="" coords="725,1151,782,1151,782,1156,725,1156"/>
<area shape="rect" id="Node000091" href="$class_server_maneger.html#a7b8d953ccac8c75380e44d75686f3cfd" title="特定のサーバーディレクティブ内の全てのロケーションが有効かどうかを検証します。" alt="" coords="1054,1244,1259,1269"/>
<area shape="poly" id="edge44_Node000090_Node000091" title=" " alt="" coords="987,1239,1039,1244,1039,1249,987,1245"/>
<area shape="rect" id="Node000093" href="$class_server_maneger.html#ab85c0f24ea66d5951ade724c94ff932b" title="サーバーの設定をデバッグ出力します。" alt="" coords="1048,1358,1265,1384"/>
<area shape="poly" id="edge46_Node000092_Node000093" title=" " alt="" coords="975,1368,1032,1368,1032,1374,975,1374"/>
<area shape="rect" id="Node000094" href="$class_tokenize.html#acf7d3a1cee21380ea1a596e61ae27774" title="設定ファイルを読み込み、トークンに分解します。" alt="" coords="1341,1434,1462,1460"/>
<area shape="poly" id="edge47_Node000092_Node000094" title=" " alt="" coords="973,1382,1048,1394,1326,1434,1325,1439,1047,1399,972,1387"/>
<area shape="rect" id="Node000097" href="$class_server_maneger.html#ac0128511c28b21b1a775578509398e3a" title="トークン化されたリストからMIMEタイプをロードし、解析します。" alt="" coords="1056,1460,1257,1485"/>
<area shape="poly" id="edge48_Node000092_Node000097" title=" " alt="" coords="920,1382,978,1409,1049,1438,1092,1452,1090,1457,1047,1443,976,1414,917,1387"/>
<area shape="rect" id="Node000100" href="$class_server_maneger.html#afcedc1e46b927733e53c040fa70b706d" title="トークン化されたリストからサーバーディレクティブをロードし、解析します。" alt="" coords="1067,1293,1246,1334"/>
<area shape="poly" id="edge50_Node000092_Node000100" title=" " alt="" coords="953,1355,1051,1334,1052,1339,954,1360"/>
<area shape="poly" id="edge49_Node000097_Node000094" title=" " alt="" coords="1257,1459,1325,1452,1326,1457,1258,1465"/>
<area shape="poly" id="edge52_Node000107_Node000078" title=" " alt="" coords="981,1131,998,1118,1010,1104,1017,1090,1021,1061,1026,1031,1033,1015,1046,1000,1061,988,1064,992,1050,1004,1038,1018,1031,1032,1027,1062,1022,1092,1014,1107,1001,1122,984,1135"/>
<area shape="rect" id="Node000108" href="$class_network_service.html#a76eb3eb24ee923721a827e11d5bf7234" title="サーバーソケットにアドレスをバインドします。" alt="" coords="1070,1014,1243,1040"/>
<area shape="poly" id="edge53_Node000107_Node000108" title=" " alt="" coords="977,1131,998,1118,1013,1102,1021,1085,1029,1067,1046,1050,1056,1044,1058,1049,1049,1054,1034,1070,1026,1087,1018,1105,1001,1122,979,1135"/>
<area shape="rect" id="Node000109" href="$class_network_service.html#abb307c95e97d912803bff29f67f533ca" title="サーバーアドレスを設定します。" alt="" coords="1069,1064,1244,1105"/>
<area shape="poly" id="edge54_Node000107_Node000109" title=" " alt="" coords="970,1130,1060,1107,1062,1112,972,1135"/>
<area shape="rect" id="Node000110" href="$class_network_service.html#acf04155926d7461e63432034869d23b7" title="サーバーソケットを作成します。" alt="" coords="1058,1129,1255,1170"/>
<area shape="poly" id="edge55_Node000107_Node000110" title=" " alt="" coords="983,1150,1043,1149,1043,1154,983,1155"/>
<area shape="rect" id="Node000111" href="$class_network_service.html#a9e89f1cabbeac6f1b6f8fd5c2fdc49df" title="サーバーソケットをリスニング状態に設定します。" alt="" coords="1059,1194,1254,1220"/>
<area shape="poly" id="edge56_Node000107_Node000111" title=" " alt="" coords="983,1170,1074,1188,1073,1193,982,1175"/>
</map>
