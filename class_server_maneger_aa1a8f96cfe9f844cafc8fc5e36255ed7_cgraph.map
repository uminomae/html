<map id="ServerManeger::runServerLoop" name="ServerManeger::runServerLoop">
<area shape="rect" id="Node000001" title="サーバーのメインループを実行します。" alt="" coords="5,680,207,705"/>
<area shape="rect" id="Node000002" href="$class_network_service.html#aad44e39b437301bb2b6ff79e2065d217" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="268,525,462,566"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="126,677,253,597,303,571,306,575,256,601,128,681"/>
<area shape="rect" id="Node000048" href="$class_network_service.html#a79b34078f8a4e6c978ab8fae8e4769db" title="poll()を使用してファイルディスクリプタのイベントを待ちます。" alt="" coords="274,680,456,705"/>
<area shape="poly" id="edge26_Node000001_Node000048" title=" " alt="" coords="207,690,258,690,258,695,207,695"/>
<area shape="rect" id="Node000049" href="$class_network_service.html#a8849b9c719cb649dbbbae76d9981da7c" title="クライアントへの応答を処理します。" alt="" coords="270,611,460,651"/>
<area shape="poly" id="edge27_Node000001_Node000049" title=" " alt="" coords="163,676,261,653,262,658,164,681"/>
<area shape="rect" id="Node000052" href="$class_network_service.html#a79b80b9a51d73a85bb99b0ac0560a0c4" title="全てのサーバーsocket(port)でPOLLINフラグをチェックします" alt="" coords="266,732,464,773"/>
<area shape="poly" id="edge32_Node000001_Node000052" title=" " alt="" coords="165,703,260,725,259,731,164,708"/>
<area shape="rect" id="Node000061" href="$class_server_maneger.html#a104f42d342bf9d6af9c45c200d22facd" title="サーバーのループを再起動します。" alt="" coords="255,830,475,856"/>
<area shape="poly" id="edge41_Node000001_Node000061" title=" " alt="" coords="129,703,256,782,326,820,323,825,253,787,126,708"/>
<area shape="rect" id="Node000003" href="$class_network_service.html#a16ed9bd4de8e026601eca26611647507" title="ソケットを閉じ、関連するリソースをクリーンアップします。" alt="" coords="540,504,716,545"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="462,535,524,530,524,535,463,540"/>
<area shape="rect" id="Node000005" href="$class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="527,439,729,479"/>
<area shape="poly" id="edge4_Node000002_Node000005" title=" " alt="" coords="426,522,522,490,546,482,548,487,524,495,428,527"/>
<area shape="rect" id="Node000047" href="$class_network_service.html#a7101de80b1b3b348f2012246c598b0e4" title="引数のイテレータがサーバーソケットを指しているかどうかを判断します。" alt="" coords="535,569,720,595"/>
<area shape="poly" id="edge25_Node000002_Node000047" title=" " alt="" coords="463,556,520,564,519,570,462,562"/>
<area shape="rect" id="Node000004" href="$class_network_service.html#a648626623792dd4752c1daaffe876ffc" title="指定されたソケットの接続を閉じます。" alt="" coords="780,512,1000,537"/>
<area shape="poly" id="edge3_Node000003_Node000004" title=" " alt="" coords="716,522,765,522,765,527,716,527"/>
<area shape="rect" id="Node000006" href="$class_http_transaction.html#a365f59eea6458586b660e4425eff5263" title="HTTPリクエストを処理し、対応するHTTPレスポンスを生成します。" alt="" coords="806,389,974,430"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="729,437,790,426,791,431,730,443"/>
<area shape="rect" id="Node000046" href="$class_network_service.html#ae0ba832af9234d9c640ae10fa323af87" title="ソケットからメッセージを受信します。" alt="" coords="792,454,988,480"/>
<area shape="poly" id="edge24_Node000005_Node000046" title=" " alt="" coords="729,459,777,461,777,466,729,465"/>
<area shape="rect" id="Node000007" href="$class_http_workflow_manager.html#acb64aed701e02182ff6d627b692c2ba8" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="1055,364,1240,405"/>
<area shape="poly" id="edge6_Node000006_Node000007" title=" " alt="" coords="974,399,1039,392,1040,398,975,404"/>
<area shape="rect" id="Node000045" href="$class_http_transaction.html#ac3b0816e83d73326e10ba91bfdaf539b" title="受信データを初期化し、このトランザクションのリクエストを処理する準備を行います。" alt="" coords="1063,429,1232,470"/>
<area shape="poly" id="edge23_Node000006_Node000045" title=" " alt="" coords="975,420,1048,432,1047,437,974,425"/>
<area shape="rect" id="Node000008" href="$class_cgi_execution_state.html#aecf27444a140a66641a2b9a35327fca5" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="1333,337,1471,378"/>
<area shape="poly" id="edge7_Node000007_Node000008" title=" " alt="" coords="1240,372,1317,364,1318,369,1240,377"/>
<area shape="rect" id="Node000019" href="$class_content_extraction_state.html#a127f220bca1ccb5923933c272c6cefe0" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="1324,403,1481,443"/>
<area shape="poly" id="edge9_Node000007_Node000019" title=" " alt="" coords="1240,396,1308,406,1308,411,1240,401"/>
<area shape="rect" id="Node000022" href="$class_file_path_generation_state.html#a4ee6c300ff2d365526e49a3a32cf0f11" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="1321,468,1484,509"/>
<area shape="poly" id="edge12_Node000007_Node000022" title=" " alt="" coords="1221,403,1248,415,1273,434,1296,453,1310,459,1308,464,1294,457,1269,439,1246,420,1219,408"/>
<area shape="rect" id="Node000025" href="$class_identify_connected_server_location_state.html#a725fdb9533120c327db44e35f0fddd26" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="1295,533,1509,574"/>
<area shape="poly" id="edge14_Node000007_Node000025" title=" " alt="" coords="1231,403,1249,416,1260,429,1268,442,1273,469,1279,494,1286,506,1297,518,1302,523,1299,527,1293,522,1281,509,1274,496,1268,470,1263,444,1256,432,1245,420,1228,407"/>
<area shape="rect" id="Node000029" href="$class_parsing_state.html#a0ca12a4b8e444ab0a1de139a8b9b5890" title="HTTPリクエストの解析を行います。" alt="" coords="1331,165,1473,191"/>
<area shape="poly" id="edge16_Node000007_Node000029" title=" " alt="" coords="1171,361,1293,258,1370,198,1373,202,1297,262,1174,365"/>
<area shape="rect" id="Node000036" href="$class_response_str_build_state.html#aab058472aeb563041e918bed4c5c3b17" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="1324,272,1481,313"/>
<area shape="poly" id="edge22_Node000007_Node000036" title=" " alt="" coords="1197,361,1294,323,1316,315,1318,321,1296,328,1199,366"/>
<area shape="rect" id="Node000009" href="$class_cgi_execution_state.html#ac2ce6937814bad9d326cb72e28457bdd" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="1578,300,1789,341"/>
<area shape="poly" id="edge8_Node000008_Node000009" title=" " alt="" coords="1471,346,1562,334,1563,339,1472,351"/>
<area shape="rect" id="Node000020" href="$class_content_extraction_state.html#a477ae29cd5285bc1fdacf361c17f161d" title="有効なファイルパスを探索します。" alt="" coords="1605,431,1762,471"/>
<area shape="poly" id="edge10_Node000019_Node000020" title=" " alt="" coords="1482,428,1589,439,1589,444,1481,433"/>
<area shape="rect" id="Node000021" href="$class_content_extraction_state.html#a565b31e0c01130f683c56168e772a12d" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="1571,365,1796,406"/>
<area shape="poly" id="edge11_Node000019_Node000021" title=" " alt="" coords="1481,410,1555,400,1556,405,1482,415"/>
<area shape="rect" id="Node000023" href="$class_file_path_generation_state.html#a87ce0b65b78ab5a4500237198415c220" title="HTTPリクエストに基づいて可能なすべて( open()を試行する複数 )の絶対ファイルパスを構築します。" alt="" coords="1602,496,1765,537"/>
<area shape="poly" id="edge13_Node000022_Node000023" title=" " alt="" coords="1485,494,1587,504,1586,509,1484,499"/>
<area shape="rect" id="Node000026" href="$class_identify_connected_server_location_state.html#a4dc42adce8ab71cabea829ec595ac9d4" title="クライアントのリクエストURIに基づいて適切な LocationDirective を識別します。" alt="" coords="1557,561,1810,602"/>
<area shape="poly" id="edge15_Node000025_Node000026" title=" " alt="" coords="1510,562,1542,565,1541,570,1509,567"/>
<area shape="rect" id="Node000030" href="$class_parsing_state.html#ab18ab5cde5c9a8cc12eb449130952b83" title="リクエストURIから拡張子を抽出します。" alt="" coords="1594,5,1773,46"/>
<area shape="poly" id="edge17_Node000029_Node000030" title=" " alt="" coords="1415,163,1473,111,1513,82,1556,57,1579,47,1581,52,1559,61,1516,86,1476,115,1418,167"/>
<area shape="rect" id="Node000031" href="$class_parsing_state.html#ae0532803f91744abd9808b24583c99b9" title="URIから&quot;.cgi&quot;が存在する場合、その後に続くpathinfoとクエリ文字列を抽出します" alt="" coords="1592,71,1775,111"/>
<area shape="poly" id="edge18_Node000029_Node000031" title=" " alt="" coords="1437,162,1557,120,1581,113,1582,119,1558,126,1439,167"/>
<area shape="rect" id="Node000032" href="$class_parsing_state.html#ae5902265976392a4bdc3d15cbc83fe6c" title="HTTPリクエストボディを解析します。" alt="" coords="1576,136,1791,161"/>
<area shape="poly" id="edge19_Node000029_Node000032" title=" " alt="" coords="1474,168,1560,158,1561,164,1474,173"/>
<area shape="rect" id="Node000034" href="$class_parsing_state.html#a55e71332b300ff96e8b9a73a6a4d97f3" title="HTTPリクエストヘッダーを解析します。" alt="" coords="1591,185,1776,226"/>
<area shape="poly" id="edge20_Node000029_Node000034" title=" " alt="" coords="1474,182,1576,192,1575,198,1474,187"/>
<area shape="rect" id="Node000035" href="$class_parsing_state.html#a68cb940389c1b0e5920dfabc927533b9" title="HTTPリクエストラインを解析します。" alt="" coords="1579,250,1788,276"/>
<area shape="poly" id="edge21_Node000029_Node000035" title=" " alt="" coords="1434,188,1491,212,1558,235,1591,244,1590,249,1557,240,1489,217,1432,193"/>
<area shape="poly" id="edge28_Node000049_Node000003" title=" " alt="" coords="407,608,522,554,539,548,541,553,524,559,410,612"/>
<area shape="poly" id="edge29_Node000049_Node000047" title=" " alt="" coords="460,610,540,595,541,601,461,616"/>
<area shape="rect" id="Node000050" href="$class_network_service.html#af9cd04add0e426e95a9fc680b06db23e" title="クライアントソケットへの応答メッセージを送信します。" alt="" coords="523,618,732,644"/>
<area shape="poly" id="edge30_Node000049_Node000050" title=" " alt="" coords="460,628,508,628,508,634,460,634"/>
<area shape="rect" id="Node000051" href="$class_network_service.html#aa2dc5eec9dfb61797bd77abf5a44a218" title="クライアントのリクエストヘッダーに &quot;Connection: keep&#45;alive&quot; が存在するか確認します。" alt="" coords="533,668,723,709"/>
<area shape="poly" id="edge31_Node000049_Node000051" title=" " alt="" coords="461,649,518,662,516,667,460,654"/>
<area shape="rect" id="Node000053" href="$class_network_service.html#a18b7f72724577a0fba37802fb36d8e7d" title="新しいクライアント接続を受け入れます。" alt="" coords="534,733,722,774"/>
<area shape="poly" id="edge33_Node000052_Node000053" title=" " alt="" coords="465,750,518,750,518,756,465,756"/>
<area shape="rect" id="Node000054" href="$class_network_service.html#a6fecddc50e233048c7e1632913dff0b5" title="新しいソケットを監視リストに追加します。" alt="" coords="1055,733,1240,774"/>
<area shape="poly" id="edge34_Node000053_Node000054" title=" " alt="" coords="722,751,1039,751,1039,756,722,756"/>
<area shape="rect" id="Node000055" href="$class_network_service.html#ae230dece0329581a121b72f4437e0518" title="クライアントの状態をもつクラスのインスタンスを作成し、配列に追加します。" alt="" coords="790,607,990,647"/>
<area shape="poly" id="edge35_Node000053_Node000055" title=" " alt="" coords="708,731,731,718,746,704,754,689,763,673,779,658,788,652,791,657,782,662,767,677,759,692,750,707,734,722,711,735"/>
<area shape="rect" id="Node000056" href="$class_network_service.html#a63bbb5ebfaed19591fb547b3f0cfffc5" title="クライアントソケットとリスニングポートのマッピングを設定します。" alt="" coords="799,672,981,713"/>
<area shape="poly" id="edge36_Node000053_Node000056" title=" " alt="" coords="717,730,785,714,786,719,718,735"/>
<area shape="rect" id="Node000060" href="$class_network_service.html#a34440b127df8820b685c1fd564b0a558" title="指定されたソケットをノンブロッキングモードに設定します。" alt="" coords="803,791,977,831"/>
<area shape="poly" id="edge40_Node000053_Node000060" title=" " alt="" coords="723,772,788,786,787,791,722,777"/>
<area shape="rect" id="Node000057" href="$class_port_mapping.html#af2565580060648e513ff1096677d5d83" title="指定されたサーバーソケットのリッスンポート番号を取得します。" alt="" coords="1058,618,1237,644"/>
<area shape="poly" id="edge37_Node000056_Node000057" title=" " alt="" coords="978,669,1075,645,1076,651,979,674"/>
<area shape="rect" id="Node000059" href="$class_port_mapping.html#a868fe44581e5fcc88863e86a890503cf" title="クライアントソケットとリッスンポートのマッピングを設定します。" alt="" coords="1050,668,1245,709"/>
<area shape="poly" id="edge39_Node000056_Node000059" title=" " alt="" coords="981,688,1034,687,1034,693,981,694"/>
<area shape="rect" id="Node000058" href="$class_port_mapping.html#a7988c74208b6c0ee10fe927ceac12490" title="指定されたキーに基づきポート番号をmapから取得します。std::map&lt;int, int&gt;型のmapに共通で使用します。" alt="" coords="1303,618,1502,644"/>
<area shape="poly" id="edge38_Node000057_Node000058" title=" " alt="" coords="1238,628,1287,628,1287,634,1238,634"/>
<area shape="rect" id="Node000062" href="$class_network_service.html#a54ae0e59338c8ffd4aabd39866bbf549" title="ネットワークサービスを再起動します。" alt="" coords="524,921,732,962"/>
<area shape="poly" id="edge42_Node000061_Node000062" title=" " alt="" coords="402,854,559,913,557,918,400,859"/>
<area shape="rect" id="Node000065" href="$class_server_maneger.html#ab5e04aaf80feab4ba0522ab9311cf18f" title="設定ファイルを解析(parse)し、サーバーごとのポートでlistenを行い、pollfdを準備します。" alt="" coords="531,830,725,856"/>
<area shape="poly" id="edge45_Node000061_Node000065" title=" " alt="" coords="475,840,515,840,515,846,475,846"/>
<area shape="rect" id="Node000063" href="$class_network_service.html#a2cf75b7a3d9f4f6ffb04501be4a4f151" title="すべてのソケットの接続を閉じ、関係するデータを削除します。" alt="" coords="802,921,978,962"/>
<area shape="poly" id="edge43_Node000062_Node000063" title=" " alt="" coords="732,939,786,939,786,944,732,944"/>
<area shape="rect" id="Node000064" href="$class_network_service.html#aa669d89eac68ea824c823701a63c6030" title="ネットワークサービスを初期化します。" alt="" coords="796,987,984,1027"/>
<area shape="poly" id="edge44_Node000062_Node000064" title=" " alt="" coords="713,960,792,980,790,985,712,965"/>
<area shape="poly" id="edge53_Node000065_Node000060" title=" " alt="" coords="725,828,787,821,788,826,726,834"/>
<area shape="rect" id="Node000066" href="$class_network_service.html#a44006dbf443e41fff6a628d72e356dd3" title=".confのサーバーディレクティブの設定に基づいてセットアップを行います。" alt="" coords="798,856,982,897"/>
<area shape="poly" id="edge46_Node000065_Node000066" title=" " alt="" coords="726,853,783,860,782,865,725,858"/>
<area shape="poly" id="edge47_Node000066_Node000054" title=" " alt="" coords="975,853,998,841,1013,828,1022,814,1031,799,1046,785,1056,779,1058,784,1049,789,1035,803,1026,817,1017,831,1001,845,978,858"/>
<area shape="rect" id="Node000067" href="$class_network_service.html#a76eb3eb24ee923721a827e11d5bf7234" title="サーバーソケットにアドレスをバインドします。" alt="" coords="1061,978,1234,1004"/>
<area shape="poly" id="edge48_Node000066_Node000067" title=" " alt="" coords="978,895,1001,907,1017,922,1026,937,1034,950,1049,963,1060,970,1058,974,1046,968,1030,954,1021,939,1013,925,998,912,975,900"/>
<area shape="rect" id="Node000068" href="$class_network_service.html#abb307c95e97d912803bff29f67f533ca" title="サーバーアドレスを設定します。" alt="" coords="1060,1028,1235,1069"/>
<area shape="poly" id="edge49_Node000066_Node000068" title=" " alt="" coords="983,895,1001,908,1014,921,1021,935,1026,962,1032,989,1038,1002,1050,1014,1053,1017,1049,1021,1046,1018,1034,1005,1027,991,1021,963,1016,937,1009,924,998,912,980,899"/>
<area shape="rect" id="Node000069" href="$class_network_service.html#acf04155926d7461e63432034869d23b7" title="サーバーソケットを作成します。" alt="" coords="1049,799,1246,839"/>
<area shape="poly" id="edge50_Node000066_Node000069" title=" " alt="" coords="982,853,1038,841,1039,846,983,858"/>
<area shape="rect" id="Node000070" href="$class_network_service.html#a9e89f1cabbeac6f1b6f8fd5c2fdc49df" title="サーバーソケットをリスニング状態に設定します。" alt="" coords="1050,864,1245,889"/>
<area shape="poly" id="edge51_Node000066_Node000070" title=" " alt="" coords="983,874,1035,874,1035,879,983,879"/>
<area shape="rect" id="Node000071" href="$class_port_mapping.html#a35afe8110e08ba6892784a82f9d18161" title="サーバーソケットとリッスンポートのマッピングを設定します。" alt="" coords="1048,913,1247,954"/>
<area shape="poly" id="edge52_Node000066_Node000071" title=" " alt="" coords="983,894,1039,907,1038,912,982,899"/>
</map>
