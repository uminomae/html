<map id="NetworkService::handleClientRecvRequests" name="NetworkService::handleClientRecvRequests">
<area shape="rect" id="Node000001" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="5,468,200,509"/>
<area shape="rect" id="Node000002" href="$class_network_service.html#a16ed9bd4de8e026601eca26611647507" title="ソケットを閉じ、関連するリソースをクリーンアップします。" alt="" coords="261,403,437,443"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="181,465,254,445,255,450,183,470"/>
<area shape="rect" id="Node000004" href="$class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="248,468,450,509"/>
<area shape="poly" id="edge3_Node000001_Node000004" title=" " alt="" coords="200,486,232,486,232,491,200,491"/>
<area shape="rect" id="Node000048" href="$class_network_service.html#a7101de80b1b3b348f2012246c598b0e4" title="引数のイテレータがサーバーソケットを指しているかどうかを判断します。" alt="" coords="256,533,442,559"/>
<area shape="poly" id="edge49_Node000001_Node000048" title=" " alt="" coords="193,507,276,526,275,531,192,512"/>
<area shape="rect" id="Node000003" href="$class_network_service.html#a648626623792dd4752c1daaffe876ffc" title="指定されたソケットの接続を閉じます。" alt="" coords="498,410,717,436"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="438,420,482,420,482,426,438,426"/>
<area shape="rect" id="Node000005" href="$class_http_transaction.html#a365f59eea6458586b660e4425eff5263" title="HTTPリクエストを処理し、対応するHTTPレスポンスを生成します。" alt="" coords="524,464,692,505"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="450,484,508,483,508,489,450,489"/>
<area shape="rect" id="Node000047" href="$class_network_service.html#ae0ba832af9234d9c640ae10fa323af87" title="ソケットからメッセージを受信します。" alt="" coords="510,529,706,555"/>
<area shape="poly" id="edge48_Node000004_Node000047" title=" " alt="" coords="451,507,528,523,526,528,450,512"/>
<area shape="rect" id="Node000006" href="$class_http_workflow_manager.html#acb64aed701e02182ff6d627b692c2ba8" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="765,431,950,471"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="692,470,749,463,750,468,693,476"/>
<area shape="rect" id="Node000046" href="$class_http_transaction.html#ac3b0816e83d73326e10ba91bfdaf539b" title="受信データを初期化し、このトランザクションのリクエストを処理する準備を行います。" alt="" coords="773,496,942,537"/>
<area shape="poly" id="edge47_Node000005_Node000046" title=" " alt="" coords="693,492,758,501,757,506,692,498"/>
<area shape="rect" id="Node000007" href="$class_cgi_execution_state.html#aecf27444a140a66641a2b9a35327fca5" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="1036,232,1174,273"/>
<area shape="poly" id="edge6_Node000006_Node000007" title=" " alt="" coords="877,428,929,377,996,318,1053,279,1056,283,999,322,933,380,880,432"/>
<area shape="rect" id="Node000017" href="$class_content_extraction_state.html#a127f220bca1ccb5923933c272c6cefe0" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="1026,332,1184,373"/>
<area shape="poly" id="edge16_Node000006_Node000017" title=" " alt="" coords="898,428,997,383,1017,376,1019,381,999,388,901,433"/>
<area shape="rect" id="Node000020" href="$class_file_path_generation_state.html#a4ee6c300ff2d365526e49a3a32cf0f11" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="1023,397,1187,438"/>
<area shape="poly" id="edge19_Node000006_Node000020" title=" " alt="" coords="950,436,1007,428,1008,433,951,441"/>
<area shape="rect" id="Node000023" href="$class_identify_connected_server_location_state.html#a725fdb9533120c327db44e35f0fddd26" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="998,463,1212,503"/>
<area shape="poly" id="edge22_Node000006_Node000023" title=" " alt="" coords="951,460,983,464,982,470,950,466"/>
<area shape="rect" id="Node000030" href="$class_parsing_state.html#a0ca12a4b8e444ab0a1de139a8b9b5890" title="HTTPリクエストの解析を行います。" alt="" coords="1034,682,1176,708"/>
<area shape="poly" id="edge29_Node000006_Node000030" title=" " alt="" coords="930,470,951,482,999,527,1039,577,1071,627,1093,667,1088,670,1066,629,1035,580,995,530,948,486,928,474"/>
<area shape="rect" id="Node000037" href="$class_response_str_build_state.html#aab058472aeb563041e918bed4c5c3b17" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="1026,908,1184,949"/>
<area shape="poly" id="edge36_Node000006_Node000037" title=" " alt="" coords="937,470,952,483,973,512,984,541,989,568,989,595,988,652,991,684,1000,719,1042,816,1085,894,1081,896,1037,818,995,721,986,685,982,652,984,595,984,568,979,542,968,515,948,486,933,474"/>
<area shape="rect" id="Node000008" href="$class_cgi_execution_state.html#ac2ce6937814bad9d326cb72e28457bdd" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="1281,201,1491,242"/>
<area shape="poly" id="edge7_Node000007_Node000008" title=" " alt="" coords="1174,242,1265,232,1266,237,1175,247"/>
<area shape="rect" id="Node000009" href="$class_cgi_execution_state.html#aaa36c8ac603138c4b2541ecb5e6c135a" title="環境変数をstd::stringからchar*に変換します。" alt="" coords="1598,5,1758,46"/>
<area shape="poly" id="edge8_Node000008_Node000009" title=" " alt="" coords="1402,199,1466,129,1510,90,1559,57,1583,45,1585,50,1562,61,1513,94,1469,133,1406,203"/>
<area shape="rect" id="Node000010" href="$class_cgi_execution_state.html#a3640636e5ea7f26c87481c7e0e1bab69" title="パイプを作成し、新しいプロセスをフォークします。" alt="" coords="1609,71,1747,111"/>
<area shape="poly" id="edge9_Node000008_Node000010" title=" " alt="" coords="1417,199,1482,160,1559,122,1593,110,1595,115,1561,127,1484,165,1420,203"/>
<area shape="rect" id="Node000011" href="$class_cgi_execution_state.html#af7a2830b1943e93db5a6e57ad1711498" title="CGIスクリプトを実行します。" alt="" coords="1609,136,1747,177"/>
<area shape="poly" id="edge10_Node000008_Node000011" title=" " alt="" coords="1480,198,1593,173,1594,178,1481,203"/>
<area shape="rect" id="Node000012" href="$class_cgi_execution_state.html#aff9df70d227ed984a62c5f44c284b116" title="CGIスクリプト実行の親プロセスの処理を実行します。" alt="" coords="1605,201,1751,242"/>
<area shape="poly" id="edge11_Node000008_Node000012" title=" " alt="" coords="1492,219,1590,219,1590,224,1492,224"/>
<area shape="rect" id="Node000014" href="$class_cgi_execution_state.html#a0a3236dd76cf8bd5a8115a348a296481" title="CGIプロセスのファイルディスクリプタをセットアップします。" alt="" coords="1573,267,1783,307"/>
<area shape="poly" id="edge13_Node000008_Node000014" title=" " alt="" coords="1481,240,1570,260,1569,265,1480,245"/>
<area shape="rect" id="Node000015" href="$class_cgi_execution_state.html#ad69e96a830c5ade8aa774703694a4413" title="CGIスクリプトの実行環境をstd::string型のvectorでセットアップします。" alt="" coords="1588,332,1768,373"/>
<area shape="poly" id="edge14_Node000008_Node000015" title=" " alt="" coords="1485,240,1514,256,1530,271,1539,287,1547,302,1562,317,1576,325,1573,330,1559,321,1543,306,1534,290,1526,274,1511,260,1482,245"/>
<area shape="rect" id="Node000013" href="$class_cgi_execution_state.html#a87dd9281aa48ff54b9c767bc58007601" title="フォークされたプロセスの終了を非ブロッキングで待ちます。" alt="" coords="1889,201,2028,242"/>
<area shape="poly" id="edge12_Node000012_Node000013" title=" " alt="" coords="1751,219,1874,219,1874,224,1751,224"/>
<area shape="rect" id="Node000016" href="$class_cgi_execution_state.html#a0ea4850cd9670c360522e59d4315b88f" title="環境変数の文字列を結合して作成し、vectorに追加します" alt="" coords="1844,331,2073,371"/>
<area shape="poly" id="edge15_Node000015_Node000016" title=" " alt="" coords="1768,349,1828,349,1829,354,1768,355"/>
<area shape="rect" id="Node000018" href="$class_content_extraction_state.html#a477ae29cd5285bc1fdacf361c17f161d" title="有効なファイルパスを探索します。" alt="" coords="1308,269,1465,310"/>
<area shape="poly" id="edge17_Node000017_Node000018" title=" " alt="" coords="1184,332,1292,308,1293,313,1185,337"/>
<area shape="rect" id="Node000019" href="$class_content_extraction_state.html#a9c744c5c3ce77056db86b407f9b645a4" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="1274,335,1498,375"/>
<area shape="poly" id="edge18_Node000017_Node000019" title=" " alt="" coords="1184,350,1258,351,1258,356,1184,356"/>
<area shape="rect" id="Node000021" href="$class_file_path_generation_state.html#a87ce0b65b78ab5a4500237198415c220" title="HTTPリクエストに基づいて可能なすべて( open()を試行する複数 )の絶対ファイルパスを構築します。" alt="" coords="1877,396,2040,437"/>
<area shape="poly" id="edge20_Node000020_Node000021" title=" " alt="" coords="1187,415,1861,414,1861,419,1187,420"/>
<area shape="rect" id="Node000022" href="$class_util_http_processing_step.html#ab42a2a005346c58f81d793721139ca81" title="指定されたURIに基づいて絶対ファイルパスを構築します。" alt="" coords="2121,608,2279,649"/>
<area shape="poly" id="edge21_Node000021_Node000022" title=" " alt="" coords="2041,429,2075,446,2112,479,2143,518,2168,558,2186,593,2181,595,2163,560,2139,521,2108,483,2071,451,2039,434"/>
<area shape="rect" id="Node000024" href="$class_identify_connected_server_location_state.html#aa8c2a5249f4cc49ea23d1aae91e10610" title="クライアントが接続しているサーバーを識別します。" alt="" coords="1279,451,1493,491"/>
<area shape="poly" id="edge23_Node000023_Node000024" title=" " alt="" coords="1212,476,1264,474,1264,479,1212,481"/>
<area shape="rect" id="Node000027" href="$class_identify_connected_server_location_state.html#a3e61e0d75e731d5f0b0791b536254f65" title="クライアントのリクエストURIに基づいて適切な LocationDirective を識別します。" alt="" coords="1260,516,1512,557"/>
<area shape="poly" id="edge26_Node000023_Node000027" title=" " alt="" coords="1213,501,1261,510,1260,515,1212,506"/>
<area shape="rect" id="Node000025" href="$class_port_mapping.html#a1c5d6ef805606cc3689fba9f38df1988" title="クライアントが接続したサーバーのリッスンポート番号を取得します。" alt="" coords="1586,451,1770,491"/>
<area shape="poly" id="edge24_Node000024_Node000025" title=" " alt="" coords="1494,468,1571,468,1571,474,1494,474"/>
<area shape="rect" id="Node000026" href="$class_port_mapping.html#a7988c74208b6c0ee10fe927ceac12490" title="指定されたキーに基づきポート番号をmapから取得します。std::map&lt;int, int&gt;型のmapに共通で使用します。" alt="" coords="1859,461,2058,487"/>
<area shape="poly" id="edge25_Node000025_Node000026" title=" " alt="" coords="1770,469,1843,470,1843,475,1770,475"/>
<area shape="rect" id="Node000028" href="$class_identify_connected_server_location_state.html#a64d8e090b131760364eea73d1806ee96" title="一致する LocationDirective を見つけます。" alt="" coords="1560,516,1796,557"/>
<area shape="poly" id="edge27_Node000027_Node000028" title=" " alt="" coords="1513,534,1545,534,1545,539,1513,539"/>
<area shape="rect" id="Node000029" href="$class_identify_connected_server_location_state.html#a33a5ee2dccb5a80570dbc33122d56bb3" title="URIパターンがロケーションディレクティブに一致するかを判断します。" alt="" coords="1851,516,2066,557"/>
<area shape="poly" id="edge28_Node000028_Node000029" title=" " alt="" coords="1796,534,1836,534,1836,539,1796,539"/>
<area shape="rect" id="Node000031" href="$class_parsing_state.html#ab18ab5cde5c9a8cc12eb449130952b83" title="リクエストURIから拡張子を抽出します。" alt="" coords="1297,581,1475,622"/>
<area shape="poly" id="edge30_Node000030_Node000031" title=" " alt="" coords="1137,679,1259,632,1286,624,1288,629,1261,638,1139,684"/>
<area shape="rect" id="Node000032" href="$class_parsing_state.html#ae0532803f91744abd9808b24583c99b9" title="URIから&quot;.cgi&quot;が存在する場合、その後に続くpathinfoとクエリ文字列を抽出します" alt="" coords="1295,647,1478,687"/>
<area shape="poly" id="edge31_Node000030_Node000032" title=" " alt="" coords="1176,685,1279,675,1279,680,1177,691"/>
<area shape="rect" id="Node000033" href="$class_parsing_state.html#ae5902265976392a4bdc3d15cbc83fe6c" title="HTTPリクエストボディを解析します。" alt="" coords="1279,712,1494,737"/>
<area shape="poly" id="edge32_Node000030_Node000033" title=" " alt="" coords="1177,700,1264,709,1263,714,1176,705"/>
<area shape="rect" id="Node000035" href="$class_parsing_state.html#a55e71332b300ff96e8b9a73a6a4d97f3" title="HTTPリクエストヘッダーを解析します。" alt="" coords="1294,761,1479,802"/>
<area shape="poly" id="edge34_Node000030_Node000035" title=" " alt="" coords="1142,706,1261,747,1285,754,1283,759,1259,752,1140,711"/>
<area shape="rect" id="Node000036" href="$class_parsing_state.html#a68cb940389c1b0e5920dfabc927533b9" title="HTTPリクエストラインを解析します。" alt="" coords="1282,826,1491,852"/>
<area shape="poly" id="edge35_Node000030_Node000036" title=" " alt="" coords="1121,707,1178,758,1218,787,1261,811,1280,819,1278,824,1259,816,1215,792,1175,762,1117,710"/>
<area shape="rect" id="Node000034" href="$class_parsing_state.html#a7f5789e4470fffb0106e3268c67b7807" title="チャンクエンコーディングの際のリクエストボディを解析します" alt="" coords="1582,704,1774,745"/>
<area shape="poly" id="edge33_Node000033_Node000034" title=" " alt="" coords="1494,722,1566,722,1566,727,1494,727"/>
<area shape="rect" id="Node000038" href="$class_response_str_build_state.html#a21958ec54de1c2b2206854c9cec4c749" title="レスポンスボディを構築します。" alt="" coords="1308,876,1465,917"/>
<area shape="poly" id="edge37_Node000037_Node000038" title=" " alt="" coords="1184,917,1291,904,1292,910,1184,922"/>
<area shape="rect" id="Node000043" href="$class_response_str_build_state.html#a2b42e27ed61acd89b4f47445991861e1" title="レスポンスヘッダを構築します。" alt="" coords="1308,941,1465,982"/>
<area shape="poly" id="edge44_Node000037_Node000043" title=" " alt="" coords="1184,935,1292,948,1291,953,1184,940"/>
<area shape="rect" id="Node000045" href="$class_response_str_build_state.html#aa2383bb6b46c166581999fb4880efa82" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="1298,1007,1475,1047"/>
<area shape="poly" id="edge46_Node000037_Node000045" title=" " alt="" coords="1152,947,1261,991,1286,999,1285,1004,1259,996,1150,952"/>
<area shape="rect" id="Node000039" href="$class_auto_index_state.html#a7802b576a9a7ca2fd2d528b53ffe3934" title="AutoIndex機能を処理します。" alt="" coords="1599,829,1757,855"/>
<area shape="poly" id="edge38_Node000038_Node000039" title=" " alt="" coords="1465,879,1590,855,1591,861,1466,884"/>
<area shape="rect" id="Node000042" href="$class_util_http_processing_step.html#a2981180233e55296d44cbc638401f067" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="1879,876,2038,917"/>
<area shape="poly" id="edge43_Node000038_Node000042" title=" " alt="" coords="1465,894,1863,894,1863,899,1465,899"/>
<area shape="rect" id="Node000040" href="$class_auto_index_state.html#accbfc2ae04d12bb5535ffffc8a7e9a1c" title="AutoIndex on の場合のレスポンスボディを構築します" alt="" coords="1870,777,2047,803"/>
<area shape="poly" id="edge39_Node000039_Node000040" title=" " alt="" coords="1751,826,1870,803,1871,809,1752,831"/>
<area shape="rect" id="Node000041" href="$class_auto_index_state.html#aa3731fb95408354bcaa9b062d98ca3e9" title="ディレクトリに存在するファイル名を配列として取得します" alt="" coords="1869,826,2048,852"/>
<area shape="poly" id="edge40_Node000039_Node000041" title=" " alt="" coords="1757,838,1853,837,1853,843,1757,844"/>
<area shape="poly" id="edge42_Node000039_Node000042" title=" " alt="" coords="1748,852,1864,875,1863,881,1747,858"/>
<area shape="poly" id="edge41_Node000041_Node000022" title=" " alt="" coords="2047,825,2072,813,2110,779,2141,739,2165,698,2183,662,2188,664,2170,701,2145,742,2113,783,2074,817,2050,830"/>
<area shape="rect" id="Node000044" href="$class_response_str_build_state.html#a14df6589f1fcc543ec7bc8c4b99892bc" title="クライアントのリクエストヘッダーに &quot;Connection: close&quot; が存在するか確認します。" alt="" coords="1599,941,1757,982"/>
<area shape="poly" id="edge45_Node000043_Node000044" title=" " alt="" coords="1465,959,1584,959,1584,964,1465,964"/>
</map>
