<map id="NetworkService::handleRecvRequests" name="NetworkService::handleRecvRequests">
<area shape="rect" id="Node000001" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="5,626,197,667"/>
<area shape="rect" id="Node000002" href="$class_network_service.html#a500652677e0cb07236dcba573d8972f3" title="ソケットを閉じ、関連するリソースをクリーンアップします。" alt="" coords="258,561,434,601"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="179,623,252,603,253,608,181,628"/>
<area shape="rect" id="Node000004" href="$class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="245,626,447,667"/>
<area shape="poly" id="edge3_Node000001_Node000004" title=" " alt="" coords="197,644,229,644,229,649,197,649"/>
<area shape="rect" id="Node000065" href="$class_network_service.html#a7101de80b1b3b348f2012246c598b0e4" title="引数のイテレータがサーバーソケットを指しているかどうかを判断します。" alt="" coords="253,691,439,716"/>
<area shape="poly" id="edge60_Node000001_Node000065" title=" " alt="" coords="191,665,273,684,272,689,190,670"/>
<area shape="rect" id="Node000003" href="$class_network_service.html#a648626623792dd4752c1daaffe876ffc" title="指定されたソケットの接続を閉じます。" alt="" coords="495,568,714,594"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="435,578,479,578,479,584,435,584"/>
<area shape="rect" id="Node000005" href="$class_http_workflow_manager.html#a09d2f69d56764717d9c9f65192ab6737" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="513,626,697,667"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="447,644,497,644,497,649,447,649"/>
<area shape="rect" id="Node000006" href="$class_response_str_build_state.html#a0f55d5f37e78c4ab37c97e40b74128e4" title="レスポンスボディを構築します。" alt="" coords="1056,119,1213,160"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="690,623,712,604,729,580,740,556,746,531,748,508,743,460,733,413,722,365,719,318,722,294,729,270,742,246,760,222,789,195,822,175,857,159,895,147,970,134,1040,130,1040,136,971,139,896,152,859,164,824,179,792,200,764,225,746,249,734,272,727,295,724,318,727,365,738,412,749,459,753,508,751,532,745,557,734,582,716,608,693,627"/>
<area shape="rect" id="Node000009" href="$class_response_str_build_state.html#aa9cd3a0aeb17b8500de1c08b89211fde" title="レスポンスヘッダを構築します。" alt="" coords="1056,654,1213,695"/>
<area shape="poly" id="edge8_Node000005_Node000009" title=" " alt="" coords="697,648,1040,667,1040,672,697,654"/>
<area shape="rect" id="Node000013" href="$class_response_str_build_state.html#a94307f5ba086893af9d589e97f7d73a5" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="1046,719,1223,760"/>
<area shape="poly" id="edge12_Node000005_Node000013" title=" " alt="" coords="698,660,1030,719,1030,724,697,665"/>
<area shape="rect" id="Node000014" href="$class_http_workflow_manager.html#a0014db595ae6547c54ab46f4f3901ea9" title="有効なファイルパスを探索します。" alt="" coords="788,1017,938,1057"/>
<area shape="poly" id="edge13_Node000005_Node000014" title=" " alt="" coords="612,667,625,731,652,822,672,871,697,919,728,964,764,1003,776,1012,773,1016,761,1007,724,967,693,922,667,873,647,824,620,733,606,668"/>
<area shape="rect" id="Node000015" href="$class_cgi_execution_state.html#a583ea5d0162a7f407a3377b9706d5157" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="794,513,932,553"/>
<area shape="poly" id="edge14_Node000005_Node000015" title=" " alt="" coords="665,623,713,604,808,558,811,563,715,609,667,628"/>
<area shape="rect" id="Node000031" href="$class_content_extraction_state.html#a1b828ff600c1530b66839c5507200cc9" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="784,235,942,276"/>
<area shape="poly" id="edge27_Node000005_Node000031" title=" " alt="" coords="689,623,712,604,734,571,743,539,745,508,742,477,738,445,737,411,743,375,760,337,784,307,812,283,815,287,787,311,765,340,749,377,743,411,744,444,747,476,750,508,749,540,739,573,716,608,692,627"/>
<area shape="rect" id="Node000033" href="$class_delete_method_state.html#aa04b270749d1d2f1e4558dcf1432f02d" title="Delete method の場合を処理します。" alt="" coords="792,350,934,391"/>
<area shape="poly" id="edge30_Node000005_Node000033" title=" " alt="" coords="684,623,713,604,732,580,740,556,746,530,760,500,796,446,832,401,836,404,800,449,765,502,752,532,745,558,736,582,716,608,687,628"/>
<area shape="rect" id="Node000034" href="$class_file_path_generation_state.html#a8ba1acd7412f965ec6e82e095f154cf9" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="781,797,945,837"/>
<area shape="poly" id="edge32_Node000005_Node000034" title=" " alt="" coords="638,665,764,749,819,786,816,790,761,754,635,669"/>
<area shape="rect" id="Node000037" href="$class_parsing_body_state.html#a7333b1485bcd3623719733afd03ca006" title="HTTPリクエストの解析を行います。" alt="" coords="777,967,949,992"/>
<area shape="poly" id="edge36_Node000005_Node000037" title=" " alt="" coords="613,666,628,723,657,801,677,842,702,883,730,920,764,952,770,957,767,961,761,956,726,924,697,886,673,845,652,803,623,725,608,667"/>
<area shape="rect" id="Node000046" href="$class_recv_header_lexer_state.html#ae494c259cb88bb3b824f6af8672d6376" title="データを逐次的に読み取りながら解析します。" alt="" coords="784,902,942,943"/>
<area shape="poly" id="edge41_Node000005_Node000046" title=" " alt="" coords="621,665,679,748,720,799,764,847,818,891,815,895,761,851,716,802,675,751,617,668"/>
<area shape="rect" id="Node000059" href="$class_response_str_build_state.html#a7b9feab17aef82874d3bc584a1f67e6f" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="784,597,942,637"/>
<area shape="poly" id="edge50_Node000005_Node000059" title=" " alt="" coords="697,633,769,625,769,630,698,638"/>
<area shape="rect" id="Node000061" href="$class_http_workflow_manager.html#adbff49b30d6647cb5381ba3d8cfb809e" title="HTTPリクエストに対して即座にレスポンスするべきかどうかを判断します。" alt="" coords="762,65,964,121"/>
<area shape="poly" id="edge55_Node000005_Node000061" title=" " alt="" coords="690,623,712,604,732,575,745,547,753,519,756,492,753,438,742,384,730,330,724,273,726,244,732,214,743,183,760,151,781,128,785,132,765,154,748,185,737,216,731,245,729,273,735,329,747,383,758,437,762,492,758,520,750,549,737,578,716,608,694,627"/>
<area shape="rect" id="Node000007" href="$class_util_http_processing_step.html#a7b8027cc3b454260cfb2334162faf5a5" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="1342,55,1500,96"/>
<area shape="poly" id="edge6_Node000006_Node000007" title=" " alt="" coords="1213,119,1326,94,1327,99,1214,125"/>
<area shape="rect" id="Node000008" href="$class_util_http_processing_step.html#ab9931d09caf710018e021acf13e11e93" title="レスポンスボディを設定し、その長さに基づいてレスポンスのContent&#45;Lengthヘッダーを設定します。" alt="" coords="1342,121,1500,161"/>
<area shape="poly" id="edge7_Node000006_Node000008" title=" " alt="" coords="1214,137,1326,138,1326,143,1214,143"/>
<area shape="rect" id="Node000010" href="$class_response_str_build_state.html#add60093e72dac4410f23bb31db759f5e" title=" " alt="" coords="1305,709,1536,749"/>
<area shape="poly" id="edge9_Node000009_Node000010" title=" " alt="" coords="1214,687,1296,702,1295,708,1213,692"/>
<area shape="rect" id="Node000011" href="$class_response_str_build_state.html#a71e4e179bf069803d09000ef75331d5d" title="レスポンスヘッダーに適切なContent&#45;Typeを設定します。" alt="" coords="1335,774,1507,815"/>
<area shape="poly" id="edge10_Node000009_Node000011" title=" " alt="" coords="1215,686,1258,705,1274,719,1283,733,1292,746,1307,759,1321,767,1319,771,1303,763,1288,749,1279,736,1270,722,1256,710,1212,691"/>
<area shape="rect" id="Node000012" href="$class_mime_type.html#a4a1e37154291b98f207140579af47e9a" title="指定された拡張子に対応するMIMEタイプのテキストを取得します。" alt="" coords="1584,781,1763,807"/>
<area shape="poly" id="edge11_Node000011_Node000012" title=" " alt="" coords="1507,792,1568,792,1568,797,1507,797"/>
<area shape="rect" id="Node000016" href="$class_cgi_execution_state.html#a6cc80ee59a0491eadbc959c7de0bc90a" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="1029,513,1240,553"/>
<area shape="poly" id="edge15_Node000015_Node000016" title=" " alt="" coords="933,530,1013,530,1013,536,933,536"/>
<area shape="rect" id="Node000026" href="$class_cgi_execution_state.html#ac90758d6a2c43bb933d1437154a67255" title="CGIの出力結果をヘッダーとボディに分離します" alt="" coords="1065,299,1204,340"/>
<area shape="poly" id="edge23_Node000015_Node000026" title=" " alt="" coords="889,510,1093,348,1097,352,892,514"/>
<area shape="rect" id="Node000017" href="$class_cgi_execution_state.html#aaa36c8ac603138c4b2541ecb5e6c135a" title="環境変数をstd::stringからchar*に変換します。" alt="" coords="1341,317,1501,357"/>
<area shape="poly" id="edge16_Node000016_Node000017" title=" " alt="" coords="1150,510,1212,441,1255,401,1304,368,1325,357,1327,362,1306,372,1259,406,1216,444,1154,514"/>
<area shape="rect" id="Node000018" href="$class_cgi_execution_state.html#a3640636e5ea7f26c87481c7e0e1bab69" title="パイプを作成し、新しいプロセスをフォークします。" alt="" coords="1352,382,1490,423"/>
<area shape="poly" id="edge17_Node000016_Node000018" title=" " alt="" coords="1165,510,1228,472,1304,433,1336,421,1338,426,1306,438,1230,476,1168,514"/>
<area shape="rect" id="Node000019" href="$class_util_http_processing_step.html#ada47c31af29a6f653e509b8c12499f0d" title="SocketState オブジェクトのデバッグ情報を出力します。" alt="" coords="1342,905,1500,945"/>
<area shape="poly" id="edge18_Node000016_Node000019" title=" " alt="" coords="1229,551,1245,562,1259,575,1274,596,1284,617,1292,657,1290,697,1282,736,1275,774,1273,813,1282,851,1292,870,1307,890,1329,907,1326,911,1303,893,1288,873,1277,853,1268,813,1270,774,1277,735,1284,696,1287,657,1278,618,1269,599,1255,579,1242,566,1226,556"/>
<area shape="rect" id="Node000020" href="$class_cgi_execution_state.html#a12d614bd895d492fc63675f349266415" title="CGIスクリプトを実行します。" alt="" coords="1352,447,1490,488"/>
<area shape="poly" id="edge19_Node000016_Node000020" title=" " alt="" coords="1226,509,1335,484,1337,489,1227,514"/>
<area shape="rect" id="Node000021" href="$class_cgi_execution_state.html#a06397db53835040bc91ef82d21efd538" title="CGIスクリプト実行の親プロセスの処理を実行します。" alt="" coords="1348,513,1493,553"/>
<area shape="poly" id="edge20_Node000016_Node000021" title=" " alt="" coords="1240,530,1332,530,1332,536,1240,536"/>
<area shape="rect" id="Node000023" href="$class_cgi_execution_state.html#a0a3236dd76cf8bd5a8115a348a296481" title="CGIプロセスのファイルディスクリプタをセットアップします。" alt="" coords="1316,578,1525,619"/>
<area shape="poly" id="edge21_Node000016_Node000023" title=" " alt="" coords="1227,551,1314,571,1313,576,1226,556"/>
<area shape="rect" id="Node000024" href="$class_cgi_execution_state.html#aee14557029b7e57f3c911a28f5ec0c55" title="CGIスクリプトの実行環境をstd::string型のvectorでセットアップします。" alt="" coords="1331,643,1510,684"/>
<area shape="poly" id="edge22_Node000016_Node000024" title=" " alt="" coords="1212,551,1259,575,1274,589,1283,602,1292,615,1307,628,1318,634,1315,639,1303,632,1288,619,1279,605,1270,592,1255,579,1210,556"/>
<area shape="poly" id="edge26_Node000026_Node000008" title=" " alt="" coords="1203,306,1231,295,1255,279,1266,266,1273,253,1278,227,1284,199,1291,186,1303,172,1326,158,1329,162,1307,176,1295,189,1289,201,1283,228,1278,255,1271,269,1259,283,1233,300,1205,311"/>
<area shape="rect" id="Node000027" href="$class_cgi_execution_state.html#a50fedd6ac6adc3d9e574a64d20c77f40" title="CGIヘッダー全体を解析します。" alt="" coords="1352,186,1490,227"/>
<area shape="poly" id="edge24_Node000026_Node000027" title=" " alt="" coords="1203,301,1256,279,1270,268,1279,258,1289,248,1304,237,1336,223,1338,228,1306,242,1292,252,1283,262,1273,272,1258,283,1205,306"/>
<area shape="rect" id="Node000030" href="$class_cgi_execution_state.html#aaea3ec2c91f6d6d4fb47b251fc5d338e" title="改行記号を変換するために使用します" alt="" coords="1350,251,1491,292"/>
<area shape="poly" id="edge25_Node000026_Node000030" title=" " alt="" coords="1204,305,1334,283,1335,288,1204,311"/>
<area shape="rect" id="Node000032" href="$class_content_extraction_state.html#a2ad6daeca81781bd47c508fc7f080f5e" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="1022,185,1247,225"/>
<area shape="poly" id="edge28_Node000031_Node000032" title=" " alt="" coords="942,238,1007,226,1008,231,943,243"/>
<area shape="poly" id="edge29_Node000032_Node000008" title=" " alt="" coords="1228,181,1326,159,1327,164,1229,186"/>
<area shape="poly" id="edge31_Node000033_Node000008" title=" " alt="" coords="893,347,947,315,1011,285,1048,274,1080,269,1138,267,1193,262,1223,252,1255,235,1271,220,1279,205,1287,188,1303,172,1326,160,1328,164,1307,176,1292,191,1284,207,1275,224,1259,239,1225,257,1194,267,1138,272,1081,274,1049,279,1013,290,949,320,896,352"/>
<area shape="poly" id="edge35_Node000034_Node000019" title=" " alt="" coords="946,832,1012,846,1327,906,1326,911,1011,851,945,837"/>
<area shape="rect" id="Node000035" href="$class_file_path_generation_state.html#ab9a85d03be875b1bc2e19046d93a630c" title="HTTPリクエストに基づいて可能なすべて( open()を試行する複数 )の絶対ファイルパスを構築します。" alt="" coords="1053,797,1216,837"/>
<area shape="poly" id="edge33_Node000034_Node000035" title=" " alt="" coords="945,814,1037,814,1037,820,945,820"/>
<area shape="rect" id="Node000036" href="$class_util_http_processing_step.html#a59d2ac26324fd367151fcfe6bb787864" title="指定されたURIに基づいて絶対ファイルパスを構築します。" alt="" coords="1342,839,1500,880"/>
<area shape="poly" id="edge34_Node000035_Node000036" title=" " alt="" coords="1217,826,1327,843,1326,848,1216,832"/>
<area shape="poly" id="edge37_Node000037_Node000019" title=" " alt="" coords="949,968,1326,931,1326,937,949,974"/>
<area shape="rect" id="Node000038" href="$class_parsing_body_state.html#a5286bc06725b49f8555a3164d5a324c3" title="HTTPクエリ文字列から&quot;delete_file_name=&quot;の後ろの部分を抽出し、 _socketState._deleteFileNameに格納します。 また、_socketState...." alt="" coords="1030,1133,1239,1173"/>
<area shape="poly" id="edge38_Node000037_Node000038" title=" " alt="" coords="946,991,965,1003,978,1017,986,1032,990,1062,995,1090,1002,1104,1014,1118,1019,1122,1015,1126,1010,1121,997,1107,990,1092,985,1062,980,1034,974,1020,962,1007,943,995"/>
<area shape="rect" id="Node000039" href="$class_parsing_body_state.html#ae0cb48fac2fefcedde34e61f16c662ec" title="HTTPリクエストボディを解析します。" alt="" coords="1012,1299,1257,1324"/>
<area shape="poly" id="edge39_Node000037_Node000039" title=" " alt="" coords="949,991,966,1003,983,1025,993,1047,997,1068,997,1090,998,1134,1003,1158,1014,1184,1034,1214,1058,1242,1106,1287,1102,1291,1054,1246,1030,1217,1009,1186,998,1160,993,1135,992,1090,991,1069,988,1048,979,1028,962,1007,946,995"/>
<area shape="rect" id="Node000040" href="$class_parsing_multi_part_state.html#aff379087732c08fed8aa91e7ccd5a43c" title="マルチパートフォームデータを解析します。" alt="" coords="1347,1362,1495,1403"/>
<area shape="poly" id="edge40_Node000039_Node000040" title=" " alt="" coords="1190,1322,1332,1358,1331,1363,1189,1328"/>
<area shape="poly" id="edge42_Node000046_Node000019" title=" " alt="" coords="942,920,1326,922,1326,927,942,925"/>
<area shape="rect" id="Node000047" href="$class_recv_header_lexer_state.html#a1441b2cc3c6a1ec2dde32e9ce51401ce" title="ソケットからメッセージを受信します。" alt="" coords="1056,1067,1213,1108"/>
<area shape="poly" id="edge43_Node000046_Node000047" title=" " alt="" coords="940,941,965,952,1004,975,1041,1002,1103,1054,1099,1058,1038,1007,1001,980,962,957,938,946"/>
<area shape="rect" id="Node000048" href="$class_recv_header_lexer_state.html#a4ae035b54b871209e46b7a096663fe13" title="ヘッダーを解析します。終了したら次回以降の処理をスキップするためにフラグを立てます" alt="" coords="1342,1231,1499,1272"/>
<area shape="poly" id="edge44_Node000047_Node000048" title=" " alt="" coords="1215,1096,1238,1105,1259,1119,1270,1131,1277,1144,1284,1169,1290,1193,1296,1205,1307,1216,1329,1230,1326,1235,1303,1220,1292,1208,1285,1195,1279,1170,1273,1146,1266,1134,1255,1123,1235,1110,1213,1101"/>
<area shape="rect" id="Node000054" href="$class_recv_header_lexer_state.html#aec4c71e61313fcbb3c7fd44d294f3614" title="ヘッダーの読み取りが完了した状態であるかを判定します。" alt="" coords="1342,1297,1499,1337"/>
<area shape="poly" id="edge45_Node000047_Node000054" title=" " alt="" coords="1214,1094,1238,1104,1259,1119,1275,1140,1282,1161,1284,1202,1285,1243,1292,1262,1307,1282,1329,1298,1326,1302,1303,1285,1287,1265,1280,1244,1278,1202,1277,1162,1270,1142,1255,1123,1235,1108,1212,1099"/>
<area shape="rect" id="Node000055" href="$class_recv_header_lexer_state.html#a42eb9e46ee3879e8f82d59f842f0ed51" title="チャンクエンコーディングの際のリクエストボディを解析します" alt="" coords="1342,970,1499,1011"/>
<area shape="poly" id="edge46_Node000047_Node000055" title=" " alt="" coords="1187,1064,1304,1021,1329,1013,1331,1018,1306,1026,1189,1069"/>
<area shape="rect" id="Node000056" href="$class_recv_header_lexer_state.html#ae9bea82ba4dc0422b9539cdb571fb62d" title="前回のリクエストの後ろに含まれていた、次のリクエストの分をセットする" alt="" coords="1331,1035,1511,1076"/>
<area shape="poly" id="edge47_Node000047_Node000056" title=" " alt="" coords="1213,1076,1315,1065,1315,1070,1214,1081"/>
<area shape="rect" id="Node000057" href="$class_recv_header_lexer_state.html#a3066f47225f8ec0d30ad4f23f28aa704" title="受信したデータをベクターに追加します。" alt="" coords="1341,1101,1500,1141"/>
<area shape="poly" id="edge48_Node000047_Node000057" title=" " alt="" coords="1214,1094,1326,1107,1325,1112,1213,1099"/>
<area shape="rect" id="Node000058" href="$class_recv_header_lexer_state.html#a26a0a18e498aabca09ecc8da09073cea" title="HTTPリクエストボディを受信します。" alt="" coords="1320,1166,1522,1207"/>
<area shape="poly" id="edge49_Node000047_Node000058" title=" " alt="" coords="1214,1102,1258,1118,1283,1135,1306,1150,1323,1158,1321,1163,1304,1155,1280,1139,1256,1123,1212,1107"/>
<area shape="poly" id="edge51_Node000059_Node000006" title=" " alt="" coords="925,594,945,580,962,563,977,537,987,511,994,461,990,413,979,365,970,318,967,270,971,245,978,221,991,196,1010,171,1024,159,1040,149,1043,154,1027,163,1014,175,996,199,983,223,976,247,972,270,975,317,985,364,995,412,1000,461,992,513,982,539,966,566,949,585,928,598"/>
<area shape="poly" id="edge52_Node000059_Node000009" title=" " alt="" coords="943,631,1041,652,1040,657,941,636"/>
<area shape="poly" id="edge53_Node000059_Node000013" title=" " alt="" coords="894,635,948,670,1013,704,1033,711,1031,716,1011,709,945,675,891,640"/>
<area shape="rect" id="Node000060" href="$class_util_http_processing_step.html#a48ff09f4967b6b9cbb9fb556e20b30da" title="HttpResponse の変数を出力するデバッグ用関数" alt="" coords="1055,589,1214,629"/>
<area shape="poly" id="edge54_Node000059_Node000060" title=" " alt="" coords="942,612,1039,609,1039,614,942,617"/>
<area shape="rect" id="Node000062" href="$class_auto_index_state.html#ae84bd50d171c70674d85bf49ef5a5de9" title="AutoIndex機能を処理します。" alt="" coords="1056,65,1213,91"/>
<area shape="poly" id="edge56_Node000061_Node000062" title=" " alt="" coords="964,85,1040,81,1040,86,964,90"/>
<area shape="poly" id="edge58_Node000062_Node000007" title=" " alt="" coords="1214,75,1326,74,1326,79,1214,80"/>
<area shape="poly" id="edge59_Node000062_Node000008" title=" " alt="" coords="1197,89,1327,118,1326,123,1196,94"/>
<area shape="rect" id="Node000063" href="$class_auto_index_state.html#aeaf8392a5d89a5ef9f743fd174f9563d" title="AutoIndex on の場合のレスポンスボディを構築します" alt="" coords="1333,5,1509,31"/>
<area shape="poly" id="edge57_Node000062_Node000063" title=" " alt="" coords="1199,62,1341,32,1342,37,1200,67"/>
</map>
