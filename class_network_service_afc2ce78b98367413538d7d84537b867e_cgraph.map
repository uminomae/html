<map id="NetworkService::handleRecvRequests" name="NetworkService::handleRecvRequests">
<area shape="rect" id="Node000001" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="5,421,197,461"/>
<area shape="rect" id="Node000002" href="$class_network_service.html#a16ed9bd4de8e026601eca26611647507" title="ソケットを閉じ、関連するリソースをクリーンアップします。" alt="" coords="258,355,434,396"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="179,417,252,398,253,403,181,422"/>
<area shape="rect" id="Node000004" href="$class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="245,421,447,461"/>
<area shape="poly" id="edge3_Node000001_Node000004" title=" " alt="" coords="197,438,229,438,229,444,197,444"/>
<area shape="rect" id="Node000048" href="$class_network_service.html#a7101de80b1b3b348f2012246c598b0e4" title="引数のイテレータがサーバーソケットを指しているかどうかを判断します。" alt="" coords="253,485,439,511"/>
<area shape="poly" id="edge54_Node000001_Node000048" title=" " alt="" coords="191,459,273,479,272,484,190,464"/>
<area shape="rect" id="Node000003" href="$class_network_service.html#a648626623792dd4752c1daaffe876ffc" title="指定されたソケットの接続を閉じます。" alt="" coords="495,363,714,388"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="435,373,479,373,479,378,435,378"/>
<area shape="rect" id="Node000005" href="$class_http_workflow_manager.html#a09d2f69d56764717d9c9f65192ab6737" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="513,421,697,461"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="447,438,497,438,497,444,447,444"/>
<area shape="rect" id="Node000006" href="$class_response_str_build_state.html#a21958ec54de1c2b2206854c9cec4c749" title="レスポンスボディを構築します。" alt="" coords="1027,134,1184,175"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="688,418,712,399,730,371,736,343,736,315,732,287,729,259,729,231,739,204,761,178,788,158,818,144,850,134,883,128,950,125,1012,131,1011,136,950,130,884,133,851,139,820,149,791,163,764,181,743,206,735,232,734,258,737,286,741,315,742,344,735,373,716,403,691,422"/>
<area shape="rect" id="Node000013" href="$class_response_str_build_state.html#a2b42e27ed61acd89b4f47445991861e1" title="レスポンスヘッダを構築します。" alt="" coords="1027,210,1184,251"/>
<area shape="poly" id="edge13_Node000005_Node000013" title=" " alt="" coords="684,418,713,399,723,386,730,373,735,346,740,318,748,305,761,292,779,281,804,272,868,256,1011,235,1012,241,869,261,806,277,781,286,764,296,752,308,745,320,740,347,735,375,728,389,716,403,687,422"/>
<area shape="rect" id="Node000015" href="$class_response_str_build_state.html#aa2383bb6b46c166581999fb4880efa82" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="1017,298,1194,339"/>
<area shape="poly" id="edge15_Node000005_Node000015" title=" " alt="" coords="690,417,1004,340,1005,345,692,422"/>
<area shape="rect" id="Node000016" href="$class_http_workflow_manager.html#a0014db595ae6547c54ab46f4f3901ea9" title="有効なファイルパスを探索します。" alt="" coords="773,306,924,347"/>
<area shape="poly" id="edge16_Node000005_Node000016" title=" " alt="" coords="671,417,713,399,737,381,761,363,782,351,784,356,764,367,740,385,716,403,673,422"/>
<area shape="rect" id="Node000017" href="$class_cgi_execution_state.html#aecf27444a140a66641a2b9a35327fca5" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="779,551,918,592"/>
<area shape="poly" id="edge17_Node000005_Node000017" title=" " alt="" coords="637,459,695,497,764,536,777,542,775,547,761,541,692,501,634,464"/>
<area shape="rect" id="Node000027" href="$class_content_extraction_state.html#a127f220bca1ccb5923933c272c6cefe0" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="770,421,927,461"/>
<area shape="poly" id="edge28_Node000005_Node000027" title=" " alt="" coords="697,438,754,438,754,444,697,444"/>
<area shape="rect" id="Node000029" href="$class_file_path_generation_state.html#a4ee6c300ff2d365526e49a3a32cf0f11" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="767,486,930,527"/>
<area shape="poly" id="edge31_Node000005_Node000029" title=" " alt="" coords="684,459,756,479,754,484,682,464"/>
<area shape="rect" id="Node000030" href="$class_header_parser_stream.html#a231d52a867b447e6cc8ebbe415d855bb" title="データを逐次的に読み取りながら解析します。" alt="" coords="777,666,920,707"/>
<area shape="poly" id="edge32_Node000005_Node000030" title=" " alt="" coords="627,460,764,602,816,653,813,657,760,605,624,463"/>
<area shape="rect" id="Node000038" href="$class_identify_location_state.html#aa290323ea9d092dfced1ecef61f21a4c" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="776,767,921,808"/>
<area shape="poly" id="edge41_Node000005_Node000038" title=" " alt="" coords="617,460,672,575,714,647,764,716,806,755,802,759,760,720,710,650,667,577,612,463"/>
<area shape="rect" id="Node000042" href="$class_parsing_body_state.html#a84c05e6122297eb58e0863755934ba79" title="HTTPリクエストの解析を行います。" alt="" coords="762,932,935,958"/>
<area shape="poly" id="edge45_Node000005_Node000042" title=" " alt="" coords="615,461,671,612,715,716,765,818,798,872,830,918,825,921,793,875,760,821,710,718,666,614,610,463"/>
<area shape="rect" id="Node000047" href="$class_response_str_build_state.html#aab058472aeb563041e918bed4c5c3b17" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="770,191,927,232"/>
<area shape="poly" id="edge50_Node000005_Node000047" title=" " alt="" coords="686,418,712,399,726,381,733,363,736,326,739,288,746,268,760,248,771,239,774,243,764,252,751,271,745,289,742,326,738,364,731,383,716,403,690,422"/>
<area shape="rect" id="Node000007" href="$class_auto_index_state.html#a7802b576a9a7ca2fd2d528b53ffe3934" title="AutoIndex機能を処理します。" alt="" coords="1313,56,1470,82"/>
<area shape="poly" id="edge6_Node000006_Node000007" title=" " alt="" coords="1176,131,1330,84,1332,89,1177,136"/>
<area shape="rect" id="Node000011" href="$class_util_http_processing_step.html#a2981180233e55296d44cbc638401f067" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="1591,105,1749,145"/>
<area shape="poly" id="edge11_Node000006_Node000011" title=" " alt="" coords="1184,147,1575,127,1575,132,1184,153"/>
<area shape="rect" id="Node000012" href="$class_util_http_processing_step.html#a64ab194d0417e06e6cf8e4d900a83cd2" title="レスポンスボディを設定し、その長さに基づいてContent&#45;Lengthヘッダーを設定します。" alt="" coords="1591,263,1749,304"/>
<area shape="poly" id="edge12_Node000006_Node000012" title=" " alt="" coords="1185,151,1254,154,1336,162,1423,175,1508,196,1572,222,1627,253,1624,257,1569,227,1507,201,1422,180,1336,167,1254,160,1184,157"/>
<area shape="rect" id="Node000008" href="$class_auto_index_state.html#accbfc2ae04d12bb5535ffffc8a7e9a1c" title="AutoIndex on の場合のレスポンスボディを構築します" alt="" coords="1582,5,1758,31"/>
<area shape="poly" id="edge7_Node000007_Node000008" title=" " alt="" coords="1466,53,1580,32,1581,37,1467,58"/>
<area shape="rect" id="Node000009" href="$class_auto_index_state.html#aa3731fb95408354bcaa9b062d98ca3e9" title="ディレクトリに存在するファイル名を配列として取得します" alt="" coords="1580,55,1760,80"/>
<area shape="poly" id="edge8_Node000007_Node000009" title=" " alt="" coords="1471,66,1565,65,1565,71,1471,71"/>
<area shape="poly" id="edge10_Node000007_Node000011" title=" " alt="" coords="1460,80,1576,103,1575,109,1459,85"/>
<area shape="rect" id="Node000010" href="$class_util_http_processing_step.html#a59d2ac26324fd367151fcfe6bb787864" title="指定されたURIに基づいて絶対ファイルパスを構築します。" alt="" coords="1833,47,1992,88"/>
<area shape="poly" id="edge9_Node000009_Node000010" title=" " alt="" coords="1760,65,1818,65,1818,70,1760,70"/>
<area shape="rect" id="Node000014" href="$class_response_str_build_state.html#a9c2e8b31d65620337f2b9bca860ccaba" title=" " alt="" coords="1276,210,1507,251"/>
<area shape="poly" id="edge14_Node000013_Node000014" title=" " alt="" coords="1185,228,1260,228,1260,233,1185,233"/>
<area shape="rect" id="Node000018" href="$class_cgi_execution_state.html#ac2ce6937814bad9d326cb72e28457bdd" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="1000,521,1211,561"/>
<area shape="poly" id="edge18_Node000017_Node000018" title=" " alt="" coords="918,561,984,553,985,558,919,566"/>
<area shape="rect" id="Node000019" href="$class_cgi_execution_state.html#aaa36c8ac603138c4b2541ecb5e6c135a" title="環境変数をstd::stringからchar*に変換します。" alt="" coords="1312,390,1472,431"/>
<area shape="poly" id="edge19_Node000018_Node000019" title=" " alt="" coords="1136,518,1199,480,1275,441,1296,433,1298,438,1277,446,1201,484,1139,522"/>
<area shape="rect" id="Node000020" href="$class_cgi_execution_state.html#a3640636e5ea7f26c87481c7e0e1bab69" title="パイプを作成し、新しいプロセスをフォークします。" alt="" coords="1323,455,1461,496"/>
<area shape="poly" id="edge20_Node000018_Node000020" title=" " alt="" coords="1197,517,1306,492,1308,497,1198,522"/>
<area shape="rect" id="Node000021" href="$class_cgi_execution_state.html#af7a2830b1943e93db5a6e57ad1711498" title="CGIスクリプトを実行します。" alt="" coords="1323,586,1461,627"/>
<area shape="poly" id="edge21_Node000018_Node000021" title=" " alt="" coords="1198,559,1308,584,1306,590,1197,564"/>
<area shape="rect" id="Node000022" href="$class_cgi_execution_state.html#aff9df70d227ed984a62c5f44c284b116" title="CGIスクリプト実行の親プロセスの処理を実行します。" alt="" coords="1319,325,1464,365"/>
<area shape="poly" id="edge22_Node000018_Node000022" title=" " alt="" coords="1146,518,1187,492,1226,459,1241,437,1248,417,1256,396,1274,376,1303,360,1306,364,1278,380,1261,399,1253,419,1245,440,1230,463,1190,496,1149,522"/>
<area shape="rect" id="Node000024" href="$class_cgi_execution_state.html#a0a3236dd76cf8bd5a8115a348a296481" title="CGIプロセスのファイルディスクリプタをセットアップします。" alt="" coords="1287,651,1496,692"/>
<area shape="poly" id="edge25_Node000018_Node000024" title=" " alt="" coords="1139,559,1201,597,1277,636,1296,643,1294,648,1275,641,1199,602,1136,564"/>
<area shape="rect" id="Node000025" href="$class_cgi_execution_state.html#ad69e96a830c5ade8aa774703694a4413" title="CGIスクリプトの実行環境をstd::string型のvectorでセットアップします。" alt="" coords="1302,521,1481,561"/>
<area shape="poly" id="edge26_Node000018_Node000025" title=" " alt="" coords="1211,538,1286,538,1286,544,1211,544"/>
<area shape="poly" id="edge23_Node000022_Node000012" title=" " alt="" coords="1464,326,1575,302,1576,307,1465,331"/>
<area shape="rect" id="Node000023" href="$class_cgi_execution_state.html#a87dd9281aa48ff54b9c767bc58007601" title="フォークされたプロセスの終了を非ブロッキングで待ちます。" alt="" coords="1601,329,1739,369"/>
<area shape="poly" id="edge24_Node000022_Node000023" title=" " alt="" coords="1465,343,1585,345,1585,350,1465,349"/>
<area shape="rect" id="Node000026" href="$class_cgi_execution_state.html#a0ea4850cd9670c360522e59d4315b88f" title="環境変数の文字列を結合して作成し、vectorに追加します" alt="" coords="1555,521,1785,561"/>
<area shape="poly" id="edge27_Node000025_Node000026" title=" " alt="" coords="1482,538,1540,538,1540,544,1482,544"/>
<area shape="rect" id="Node000028" href="$class_content_extraction_state.html#a565b31e0c01130f683c56168e772a12d" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="993,409,1218,449"/>
<area shape="poly" id="edge29_Node000027_Node000028" title=" " alt="" coords="928,434,978,432,978,437,928,440"/>
<area shape="poly" id="edge30_Node000028_Node000012" title=" " alt="" coords="1139,406,1226,348,1249,327,1259,318,1275,310,1352,288,1431,276,1508,272,1575,273,1575,278,1508,277,1432,282,1353,293,1277,315,1262,323,1253,331,1230,352,1142,410"/>
<area shape="rect" id="Node000031" href="$class_header_parser_stream.html#a976623c54d7466c2e0b36bc2187f7479" title="ソケットからメッセージを受信します。" alt="" coords="1034,723,1177,764"/>
<area shape="poly" id="edge33_Node000030_Node000031" title=" " alt="" coords="921,700,1019,722,1018,727,920,705"/>
<area shape="rect" id="Node000032" href="$class_header_parser_stream.html#a4fb1ebe642377978c9ca699401f1c85a" title="受信したHTTPリクエストヘッダーを解析します。" alt="" coords="1312,717,1471,757"/>
<area shape="poly" id="edge34_Node000031_Node000032" title=" " alt="" coords="1177,739,1296,736,1296,742,1178,745"/>
<area shape="rect" id="Node000036" href="$class_header_parser_stream.html#aca8853f3ffd75cb79e8ab68d965d48c4" title="HTTPリクエストボディを受信します。" alt="" coords="1317,831,1467,872"/>
<area shape="poly" id="edge38_Node000031_Node000036" title=" " alt="" coords="1162,762,1229,789,1277,810,1312,823,1310,828,1275,815,1227,794,1160,767"/>
<area shape="rect" id="Node000037" href="$class_header_parser_stream.html#adade1c979989d5670bc8759c6318dd2a" title="受信したデータをベクターに追加します。" alt="" coords="1590,818,1750,859"/>
<area shape="poly" id="edge40_Node000031_Node000037" title=" " alt="" coords="1178,753,1575,820,1574,825,1177,758"/>
<area shape="rect" id="Node000033" href="$class_header_parser_stream.html#adf1b4d67ca01d835bf3fd4102ec6e608" title="HTTPリクエストヘッダーを解析します。" alt="" coords="1594,675,1746,716"/>
<area shape="poly" id="edge35_Node000032_Node000033" title=" " alt="" coords="1472,722,1578,706,1579,712,1472,728"/>
<area shape="rect" id="Node000035" href="$class_header_parser_stream.html#a0a4d53d99544647884a82e0cc2203936" title="HTTPリクエストラインを解析します。" alt="" coords="1598,741,1742,781"/>
<area shape="poly" id="edge37_Node000032_Node000035" title=" " alt="" coords="1472,741,1584,751,1583,756,1472,746"/>
<area shape="rect" id="Node000034" href="$class_header_parser_stream.html#ac07c7ad79d2dc56ce06eb41e5cbf5235" title="特定のHTTPヘッダーを処理し、関連する情報を格納します。" alt="" coords="1833,675,1992,716"/>
<area shape="poly" id="edge36_Node000033_Node000034" title=" " alt="" coords="1747,693,1817,693,1817,698,1747,698"/>
<area shape="poly" id="edge39_Node000036_Node000037" title=" " alt="" coords="1467,845,1575,840,1575,845,1467,851"/>
<area shape="rect" id="Node000039" href="$class_identify_location_state.html#a5c4f6cc671ed7dad98dd5fa58feae69c" title="クライアントのリクエストURIに基づいて適切な LocationDirective を識別します。" alt="" coords="995,803,1216,844"/>
<area shape="poly" id="edge42_Node000038_Node000039" title=" " alt="" coords="922,795,979,803,979,808,921,800"/>
<area shape="rect" id="Node000040" href="$class_identify_location_state.html#a617243d028b31872ffbe3719c39abf27" title="一致する LocationDirective を見つけます。" alt="" coords="1290,897,1494,937"/>
<area shape="poly" id="edge43_Node000039_Node000040" title=" " alt="" coords="1164,842,1277,881,1303,889,1301,894,1275,886,1162,847"/>
<area shape="rect" id="Node000041" href="$class_identify_location_state.html#a76736f8586e16547bfe15a23f03f887e" title="URIパターンがロケーションディレクティブに一致するかを判断します。" alt="" coords="1597,897,1743,937"/>
<area shape="poly" id="edge44_Node000040_Node000041" title=" " alt="" coords="1494,914,1582,914,1582,920,1494,920"/>
<area shape="rect" id="Node000043" href="$class_parsing_body_state.html#a0f773ef745b2d1d6926a02a14be8623f" title="リクエストURIから拡張子を抽出します。" alt="" coords="1001,1011,1210,1052"/>
<area shape="poly" id="edge46_Node000042_Node000043" title=" " alt="" coords="880,956,984,997,1005,1004,1004,1009,982,1002,878,961"/>
<area shape="rect" id="Node000044" href="$class_parsing_body_state.html#a869dc59d24bb341260124ce9b9a31f24" title="URIから&quot;.cgi&quot;が存在する場合、その後に続くpathinfoとクエリ文字列を抽出します" alt="" coords="1008,897,1203,937"/>
<area shape="poly" id="edge47_Node000042_Node000044" title=" " alt="" coords="935,933,992,927,992,932,935,938"/>
<area shape="rect" id="Node000045" href="$class_parsing_body_state.html#ac4e24d9a1e9f5cc6ba348340f2c3eb58" title="HTTPリクエストボディを解析します。" alt="" coords="983,961,1228,987"/>
<area shape="poly" id="edge48_Node000042_Node000045" title=" " alt="" coords="935,952,973,956,972,962,935,957"/>
<area shape="rect" id="Node000046" href="$class_parsing_body_state.html#a2e1c0ade7ac227bba341921a5e900aa9" title="チャンクエンコーディングの際のリクエストボディを解析します" alt="" coords="1305,962,1478,1003"/>
<area shape="poly" id="edge49_Node000045_Node000046" title=" " alt="" coords="1229,975,1290,977,1290,982,1229,980"/>
<area shape="poly" id="edge51_Node000047_Node000006" title=" " alt="" coords="927,191,1011,172,1012,178,928,197"/>
<area shape="poly" id="edge52_Node000047_Node000013" title=" " alt="" coords="928,215,1011,221,1011,226,928,220"/>
<area shape="poly" id="edge53_Node000047_Node000015" title=" " alt="" coords="900,230,1041,289,1039,294,898,235"/>
</map>
