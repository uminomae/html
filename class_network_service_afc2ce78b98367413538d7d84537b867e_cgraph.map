<map id="NetworkService::handleRecvRequests" name="NetworkService::handleRecvRequests">
<area shape="rect" id="Node000001" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="5,715,197,755"/>
<area shape="rect" id="Node000002" href="$class_network_service.html#a16ed9bd4de8e026601eca26611647507" title="ソケットを閉じ、関連するリソースをクリーンアップします。" alt="" coords="258,649,434,690"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="179,711,252,692,253,697,181,717"/>
<area shape="rect" id="Node000004" href="$class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="245,715,447,755"/>
<area shape="poly" id="edge3_Node000001_Node000004" title=" " alt="" coords="197,732,229,732,229,738,197,738"/>
<area shape="rect" id="Node000051" href="$class_network_service.html#a7101de80b1b3b348f2012246c598b0e4" title="引数のイテレータがサーバーソケットを指しているかどうかを判断します。" alt="" coords="253,780,439,805"/>
<area shape="poly" id="edge55_Node000001_Node000051" title=" " alt="" coords="191,753,273,773,272,778,190,759"/>
<area shape="rect" id="Node000003" href="$class_network_service.html#a648626623792dd4752c1daaffe876ffc" title="指定されたソケットの接続を閉じます。" alt="" coords="495,657,714,683"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="435,667,479,667,479,672,435,672"/>
<area shape="rect" id="Node000005" href="$class_http_workflow_manager.html#a09d2f69d56764717d9c9f65192ab6737" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="513,715,697,755"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="447,732,497,732,497,738,447,738"/>
<area shape="rect" id="Node000006" href="$class_response_str_build_state.html#a0f55d5f37e78c4ab37c97e40b74128e4" title="レスポンスボディを構築します。" alt="" coords="1027,528,1184,569"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="686,712,712,693,724,677,731,661,733,627,738,594,746,578,761,564,789,546,820,534,885,520,951,519,1011,525,1011,530,951,524,886,525,821,539,792,551,764,568,750,581,743,596,739,628,736,662,729,680,716,697,689,716"/>
<area shape="rect" id="Node000009" href="$class_response_str_build_state.html#aa9cd3a0aeb17b8500de1c08b89211fde" title="レスポンスヘッダを構築します。" alt="" coords="1027,600,1184,641"/>
<area shape="poly" id="edge8_Node000005_Node000009" title=" " alt="" coords="688,711,762,694,1011,638,1012,643,763,699,690,717"/>
<area shape="rect" id="Node000011" href="$class_response_str_build_state.html#a94307f5ba086893af9d589e97f7d73a5" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="1017,672,1194,713"/>
<area shape="poly" id="edge10_Node000005_Node000011" title=" " alt="" coords="697,725,1001,698,1001,704,698,730"/>
<area shape="rect" id="Node000012" href="$class_http_workflow_manager.html#a0014db595ae6547c54ab46f4f3901ea9" title="有効なファイルパスを探索します。" alt="" coords="773,743,924,783"/>
<area shape="poly" id="edge11_Node000005_Node000012" title=" " alt="" coords="697,743,758,750,758,755,697,748"/>
<area shape="rect" id="Node000013" href="$class_cgi_execution_state.html#a583ea5d0162a7f407a3377b9706d5157" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="779,397,918,438"/>
<area shape="poly" id="edge12_Node000005_Node000013" title=" " alt="" coords="689,712,712,693,732,663,739,633,740,603,736,574,732,543,732,513,740,481,760,449,765,444,769,448,764,453,745,483,738,513,738,543,741,573,745,603,745,634,737,665,716,697,692,716"/>
<area shape="rect" id="Node000025" href="$class_content_extraction_state.html#a1b828ff600c1530b66839c5507200cc9" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="770,463,927,503"/>
<area shape="poly" id="edge25_Node000005_Node000025" title=" " alt="" coords="687,712,712,693,727,672,735,651,736,609,738,566,745,543,760,520,770,511,774,514,764,523,750,545,743,567,742,609,740,652,732,674,716,697,690,716"/>
<area shape="rect" id="Node000027" href="$class_delete_method_state.html#aa04b270749d1d2f1e4558dcf1432f02d" title="疑似 Delete method 機能を処理します。" alt="" coords="778,808,919,849"/>
<area shape="poly" id="edge28_Node000005_Node000027" title=" " alt="" coords="661,753,780,800,778,805,659,758"/>
<area shape="rect" id="Node000028" href="$class_file_path_generation_state.html#a8ba1acd7412f965ec6e82e095f154cf9" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="767,873,930,914"/>
<area shape="poly" id="edge29_Node000005_Node000028" title=" " alt="" coords="629,754,687,804,764,858,775,864,772,869,761,863,684,809,625,758"/>
<area shape="rect" id="Node000031" href="$class_header_parser_stream.html#a00268947d58a510d45b05b2ec7ebeec7" title="データを逐次的に読み取りながら解析します。" alt="" coords="777,939,920,979"/>
<area shape="poly" id="edge32_Node000005_Node000031" title=" " alt="" coords="620,754,676,835,717,882,764,924,771,928,768,933,761,928,713,886,672,839,616,757"/>
<area shape="rect" id="Node000039" href="$class_identify_location_state.html#a6d6d0d17c501290cde9ac46f94425b86" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="776,1004,921,1045"/>
<area shape="poly" id="edge40_Node000005_Node000039" title=" " alt="" coords="616,755,635,802,667,865,710,931,736,962,764,989,770,994,767,998,761,993,732,965,706,934,662,867,630,804,611,757"/>
<area shape="rect" id="Node000043" href="$class_parsing_body_state.html#a7333b1485bcd3623719733afd03ca006" title="HTTPリクエストの解析を行います。" alt="" coords="762,1142,935,1168"/>
<area shape="poly" id="edge44_Node000005_Node000043" title=" " alt="" coords="616,755,672,885,715,971,765,1055,795,1095,826,1129,822,1133,791,1099,760,1058,710,973,667,887,612,757"/>
<area shape="rect" id="Node000050" href="$class_response_str_build_state.html#a7b9feab17aef82874d3bc584a1f67e6f" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="770,577,927,618"/>
<area shape="poly" id="edge51_Node000005_Node000050" title=" " alt="" coords="678,712,713,693,728,679,736,665,745,650,761,634,777,623,780,628,764,638,750,653,741,667,732,682,716,697,680,716"/>
<area shape="rect" id="Node000007" href="$class_util_http_processing_step.html#a7b8027cc3b454260cfb2334162faf5a5" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="1313,528,1471,569"/>
<area shape="poly" id="edge6_Node000006_Node000007" title=" " alt="" coords="1185,546,1297,546,1297,551,1185,551"/>
<area shape="rect" id="Node000008" href="$class_util_http_processing_step.html#ab9931d09caf710018e021acf13e11e93" title="レスポンスボディを設定し、その長さに基づいてレスポンスのContent&#45;Lengthヘッダーを設定します。" alt="" coords="1313,463,1471,503"/>
<area shape="poly" id="edge7_Node000006_Node000008" title=" " alt="" coords="1184,528,1297,502,1298,507,1185,533"/>
<area shape="rect" id="Node000010" href="$class_response_str_build_state.html#a02838bcf03951383fff1f024c91bc109" title=" " alt="" coords="1276,600,1507,641"/>
<area shape="poly" id="edge9_Node000009_Node000010" title=" " alt="" coords="1185,618,1260,618,1260,623,1185,623"/>
<area shape="rect" id="Node000014" href="$class_cgi_execution_state.html#a6cc80ee59a0491eadbc959c7de0bc90a" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="1000,201,1211,242"/>
<area shape="poly" id="edge13_Node000013_Node000014" title=" " alt="" coords="875,395,1064,249,1067,254,879,399"/>
<area shape="rect" id="Node000023" href="$class_cgi_execution_state.html#ac90758d6a2c43bb933d1437154a67255" title="CGIの出力結果をヘッダーとボディに分離します" alt="" coords="1036,397,1175,438"/>
<area shape="poly" id="edge22_Node000013_Node000023" title=" " alt="" coords="918,415,1021,415,1021,420,918,420"/>
<area shape="rect" id="Node000015" href="$class_cgi_execution_state.html#aaa36c8ac603138c4b2541ecb5e6c135a" title="環境変数をstd::stringからchar*に変換します。" alt="" coords="1312,71,1472,111"/>
<area shape="poly" id="edge14_Node000014_Node000015" title=" " alt="" coords="1136,199,1199,160,1275,122,1296,114,1298,119,1277,127,1201,165,1139,203"/>
<area shape="rect" id="Node000016" href="$class_cgi_execution_state.html#a3640636e5ea7f26c87481c7e0e1bab69" title="パイプを作成し、新しいプロセスをフォークします。" alt="" coords="1323,136,1461,177"/>
<area shape="poly" id="edge15_Node000014_Node000016" title=" " alt="" coords="1197,198,1306,173,1308,178,1198,203"/>
<area shape="rect" id="Node000017" href="$class_cgi_execution_state.html#a12d614bd895d492fc63675f349266415" title="CGIスクリプトを実行します。" alt="" coords="1323,201,1461,242"/>
<area shape="poly" id="edge16_Node000014_Node000017" title=" " alt="" coords="1211,219,1307,219,1307,224,1211,224"/>
<area shape="rect" id="Node000018" href="$class_cgi_execution_state.html#a06397db53835040bc91ef82d21efd538" title="CGIスクリプト実行の親プロセスの処理を実行します。" alt="" coords="1319,267,1464,307"/>
<area shape="poly" id="edge17_Node000014_Node000018" title=" " alt="" coords="1198,240,1305,265,1304,270,1197,245"/>
<area shape="rect" id="Node000020" href="$class_cgi_execution_state.html#a0a3236dd76cf8bd5a8115a348a296481" title="CGIプロセスのファイルディスクリプタをセットアップします。" alt="" coords="1287,332,1496,373"/>
<area shape="poly" id="edge19_Node000014_Node000020" title=" " alt="" coords="1139,240,1201,278,1277,317,1296,324,1294,329,1275,321,1199,283,1136,245"/>
<area shape="rect" id="Node000021" href="$class_cgi_execution_state.html#aee14557029b7e57f3c911a28f5ec0c55" title="CGIスクリプトの実行環境をstd::string型のvectorでセットアップします。" alt="" coords="1302,5,1481,46"/>
<area shape="poly" id="edge20_Node000014_Node000021" title=" " alt="" coords="1121,199,1183,129,1226,90,1275,57,1287,50,1290,55,1277,61,1230,95,1187,133,1125,203"/>
<area shape="rect" id="Node000019" href="$class_cgi_execution_state.html#a26f14ddb42559ff3e9174dc9b9d9912c" title="フォークされたプロセスの終了を非ブロッキングで待ちます。" alt="" coords="1601,267,1739,307"/>
<area shape="poly" id="edge18_Node000018_Node000019" title=" " alt="" coords="1465,284,1585,284,1585,290,1465,290"/>
<area shape="rect" id="Node000022" href="$class_cgi_execution_state.html#a0ea4850cd9670c360522e59d4315b88f" title="環境変数の文字列を結合して作成し、vectorに追加します" alt="" coords="1555,5,1785,46"/>
<area shape="poly" id="edge21_Node000021_Node000022" title=" " alt="" coords="1482,23,1540,23,1540,28,1482,28"/>
<area shape="poly" id="edge24_Node000023_Node000008" title=" " alt="" coords="1176,431,1298,459,1297,464,1174,436"/>
<area shape="rect" id="Node000024" href="$class_cgi_execution_state.html#aaea3ec2c91f6d6d4fb47b251fc5d338e" title=" " alt="" coords="1321,397,1462,438"/>
<area shape="poly" id="edge23_Node000023_Node000024" title=" " alt="" coords="1175,415,1306,415,1306,420,1175,420"/>
<area shape="rect" id="Node000026" href="$class_content_extraction_state.html#a2ad6daeca81781bd47c508fc7f080f5e" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="993,463,1218,503"/>
<area shape="poly" id="edge26_Node000025_Node000026" title=" " alt="" coords="928,480,978,480,978,486,928,486"/>
<area shape="poly" id="edge27_Node000026_Node000008" title=" " alt="" coords="1218,480,1297,480,1297,486,1218,486"/>
<area shape="rect" id="Node000029" href="$class_file_path_generation_state.html#ab9a85d03be875b1bc2e19046d93a630c" title="HTTPリクエストに基づいて可能なすべて( open()を試行する複数 )の絶対ファイルパスを構築します。" alt="" coords="1024,845,1187,886"/>
<area shape="poly" id="edge30_Node000028_Node000029" title=" " alt="" coords="930,882,1008,874,1008,879,931,887"/>
<area shape="rect" id="Node000030" href="$class_util_http_processing_step.html#a59d2ac26324fd367151fcfe6bb787864" title="指定されたURIに基づいて絶対ファイルパスを構築します。" alt="" coords="1313,816,1471,857"/>
<area shape="poly" id="edge31_Node000029_Node000030" title=" " alt="" coords="1187,855,1297,843,1298,849,1188,860"/>
<area shape="rect" id="Node000032" href="$class_header_parser_stream.html#a5bc87c49cc8e20482f9bff12e5bf8973" title="ソケットからメッセージを受信します。" alt="" coords="1034,939,1177,979"/>
<area shape="poly" id="edge33_Node000031_Node000032" title=" " alt="" coords="921,956,1018,956,1018,962,921,962"/>
<area shape="rect" id="Node000033" href="$class_header_parser_stream.html#a974900694843d7fd8205a8aca892828c" title="受信したHTTPリクエストヘッダーを解析します。" alt="" coords="1312,996,1471,1037"/>
<area shape="poly" id="edge34_Node000032_Node000033" title=" " alt="" coords="1178,971,1297,995,1296,1000,1177,976"/>
<area shape="rect" id="Node000037" href="$class_header_parser_stream.html#a0ac5bd98258e106bf6ef1686cf6f5741" title="HTTPリクエストボディを受信します。" alt="" coords="1317,881,1467,922"/>
<area shape="poly" id="edge37_Node000032_Node000037" title=" " alt="" coords="1177,942,1300,917,1302,922,1178,947"/>
<area shape="rect" id="Node000038" href="$class_header_parser_stream.html#adade1c979989d5670bc8759c6318dd2a" title="受信したデータをベクターに追加します。" alt="" coords="1590,881,1750,922"/>
<area shape="poly" id="edge39_Node000032_Node000038" title=" " alt="" coords="1177,955,1329,948,1507,931,1574,920,1575,925,1508,936,1330,953,1178,960"/>
<area shape="rect" id="Node000034" href="$class_header_parser_stream.html#a8d687c522598977d71f78041585df587" title="HTTPリクエストヘッダーを解析します。" alt="" coords="1594,1012,1746,1053"/>
<area shape="poly" id="edge35_Node000033_Node000034" title=" " alt="" coords="1472,1018,1579,1024,1578,1030,1472,1024"/>
<area shape="rect" id="Node000036" href="$class_header_parser_stream.html#a25d2b41765234c0caf4a79ef84e2cfac" title="HTTPリクエストラインを解析します。" alt="" coords="1598,947,1742,987"/>
<area shape="poly" id="edge36_Node000033_Node000036" title=" " alt="" coords="1472,1000,1583,980,1584,985,1472,1005"/>
<area shape="poly" id="edge38_Node000037_Node000038" title=" " alt="" coords="1467,899,1575,899,1575,904,1467,904"/>
<area shape="rect" id="Node000040" href="$class_identify_location_state.html#af41f5b6d4844a68fc735327f57ce8eb7" title="クライアントのリクエストURIに基づいて適切な LocationDirective を識別します。" alt="" coords="995,1004,1216,1045"/>
<area shape="poly" id="edge41_Node000039_Node000040" title=" " alt="" coords="921,1022,979,1022,979,1027,921,1027"/>
<area shape="rect" id="Node000041" href="$class_identify_location_state.html#ab13ab10cecea13ff3f356e1b5733b74c" title="一致する LocationDirective を見つけます。" alt="" coords="1290,1061,1494,1102"/>
<area shape="poly" id="edge42_Node000040_Node000041" title=" " alt="" coords="1211,1043,1275,1056,1274,1061,1210,1048"/>
<area shape="rect" id="Node000042" href="$class_identify_location_state.html#a2f1d2f1b225301299e336f024cdd5375" title="URIパターンがロケーションディレクティブに一致するかを判断します。" alt="" coords="1597,1077,1743,1118"/>
<area shape="poly" id="edge43_Node000041_Node000042" title=" " alt="" coords="1495,1085,1582,1090,1582,1095,1494,1090"/>
<area shape="rect" id="Node000044" href="$class_parsing_body_state.html#aa166e2862659817f2d8a43887d565678" title="リクエストURIから拡張子を抽出します。" alt="" coords="1001,1249,1210,1290"/>
<area shape="poly" id="edge45_Node000043_Node000044" title=" " alt="" coords="869,1166,919,1200,984,1235,999,1241,997,1246,982,1240,916,1205,866,1171"/>
<area shape="rect" id="Node000045" href="$class_parsing_body_state.html#a84e0f5336c3224523c94a97c4ffd4517" title="URIから&quot;.cgi&quot;が存在する場合、その後に続くpathinfoとクエリ文字列を抽出します" alt="" coords="1008,1069,1203,1110"/>
<area shape="poly" id="edge46_Node000043_Node000045" title=" " alt="" coords="901,1139,1007,1112,1009,1117,903,1144"/>
<area shape="rect" id="Node000046" href="$class_parsing_body_state.html#a5286bc06725b49f8555a3164d5a324c3" title="HTTPクエリ文字列から&quot;delete_file_name=&quot;の後ろの部分を抽出し、 _socketState._deleteFileNameに格納します。 また、_socketState...." alt="" coords="1001,1135,1210,1175"/>
<area shape="poly" id="edge47_Node000043_Node000046" title=" " alt="" coords="935,1152,986,1152,986,1158,935,1158"/>
<area shape="rect" id="Node000047" href="$class_parsing_body_state.html#ae0cb48fac2fefcedde34e61f16c662ec" title="HTTPリクエストボディを解析します。" alt="" coords="983,1200,1228,1225"/>
<area shape="poly" id="edge48_Node000043_Node000047" title=" " alt="" coords="905,1166,983,1184,1023,1193,1022,1198,982,1190,903,1171"/>
<area shape="rect" id="Node000048" href="$class_parsing_body_state.html#a1ec6c83103813cb7fad754f95cae3e64" title=" " alt="" coords="1306,1224,1478,1265"/>
<area shape="poly" id="edge49_Node000047_Node000048" title=" " alt="" coords="1226,1223,1290,1230,1290,1236,1226,1228"/>
<area shape="rect" id="Node000049" href="$class_parsing_body_state.html#a85a43d44071d51ee96dd501ccc850d59" title="チャンクエンコーディングの際のリクエストボディを解析します" alt="" coords="1305,1159,1478,1199"/>
<area shape="poly" id="edge50_Node000047_Node000049" title=" " alt="" coords="1221,1196,1289,1188,1290,1193,1222,1202"/>
<area shape="poly" id="edge52_Node000050_Node000006" title=" " alt="" coords="927,580,1011,564,1012,569,928,585"/>
<area shape="poly" id="edge53_Node000050_Node000009" title=" " alt="" coords="928,602,1011,609,1011,615,928,607"/>
<area shape="poly" id="edge54_Node000050_Node000011" title=" " alt="" coords="899,616,984,650,1024,664,1022,669,982,655,897,621"/>
</map>
