<map id="NetworkService::handleRecvRequests" name="NetworkService::handleRecvRequests">
<area shape="rect" id="Node000001" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="5,612,197,653"/>
<area shape="rect" id="Node000002" href="$class_network_service.html#a16ed9bd4de8e026601eca26611647507" title="ソケットを閉じ、関連するリソースをクリーンアップします。" alt="" coords="258,547,434,587"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="179,609,252,589,253,594,181,614"/>
<area shape="rect" id="Node000004" href="$class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="245,612,447,653"/>
<area shape="poly" id="edge3_Node000001_Node000004" title=" " alt="" coords="197,630,229,630,229,635,197,635"/>
<area shape="rect" id="Node000045" href="$class_network_service.html#a7101de80b1b3b348f2012246c598b0e4" title="引数のイテレータがサーバーソケットを指しているかどうかを判断します。" alt="" coords="253,677,439,703"/>
<area shape="poly" id="edge50_Node000001_Node000045" title=" " alt="" coords="191,651,273,670,272,675,190,656"/>
<area shape="rect" id="Node000003" href="$class_network_service.html#a648626623792dd4752c1daaffe876ffc" title="指定されたソケットの接続を閉じます。" alt="" coords="495,554,714,580"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="435,564,479,564,479,570,435,570"/>
<area shape="rect" id="Node000005" href="$class_http_workflow_manager.html#a09d2f69d56764717d9c9f65192ab6737" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="513,612,697,653"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="447,630,497,630,497,635,447,635"/>
<area shape="rect" id="Node000006" href="$class_response_str_build_state.html#a983867825b18ab9d9f98ef5b43117a69" title="レスポンスボディを構築します。" alt="" coords="1027,468,1184,509"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="681,609,713,590,728,571,735,551,742,531,761,513,790,498,822,486,887,472,952,469,1011,471,1011,477,952,474,888,478,823,491,792,502,764,517,747,534,740,553,733,574,716,594,684,614"/>
<area shape="rect" id="Node000009" href="$class_response_str_build_state.html#ad33030a4db24275b7349a8b0753ba6e9" title="レスポンスヘッダを構築します。" alt="" coords="1027,547,1184,587"/>
<area shape="poly" id="edge8_Node000005_Node000009" title=" " alt="" coords="675,609,713,590,727,578,735,564,745,551,761,541,795,529,829,522,900,519,968,527,1027,540,1026,545,967,532,900,525,830,528,796,534,764,545,748,555,740,567,731,581,716,595,678,614"/>
<area shape="rect" id="Node000011" href="$class_response_str_build_state.html#a2d6e42fa92fd6a33658379e997d77c2e" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="1017,612,1194,653"/>
<area shape="poly" id="edge10_Node000005_Node000011" title=" " alt="" coords="697,630,1001,630,1001,635,697,635"/>
<area shape="rect" id="Node000012" href="$class_http_workflow_manager.html#a0014db595ae6547c54ab46f4f3901ea9" title="有効なファイルパスを探索します。" alt="" coords="773,669,924,710"/>
<area shape="poly" id="edge11_Node000005_Node000012" title=" " alt="" coords="695,651,759,666,757,671,693,656"/>
<area shape="rect" id="Node000013" href="$class_cgi_execution_state.html#aecf27444a140a66641a2b9a35327fca5" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="779,263,918,303"/>
<area shape="poly" id="edge12_Node000005_Node000013" title=" " alt="" coords="688,609,712,590,731,564,740,539,743,515,743,490,742,437,747,408,760,376,783,342,810,312,814,316,787,345,765,379,753,410,748,438,748,490,749,515,745,541,735,567,716,594,691,614"/>
<area shape="rect" id="Node000023" href="$class_content_extraction_state.html#a127f220bca1ccb5923933c272c6cefe0" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="770,389,927,430"/>
<area shape="poly" id="edge23_Node000005_Node000023" title=" " alt="" coords="686,609,712,590,726,573,733,556,736,521,740,485,747,466,760,447,771,437,774,441,764,450,752,468,745,486,742,521,738,557,730,576,716,594,689,614"/>
<area shape="rect" id="Node000025" href="$class_file_path_generation_state.html#a4ee6c300ff2d365526e49a3a32cf0f11" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="767,735,930,775"/>
<area shape="poly" id="edge26_Node000005_Node000025" title=" " alt="" coords="641,651,697,684,764,719,778,726,776,731,761,724,695,689,638,656"/>
<area shape="rect" id="Node000026" href="$class_header_parser_stream.html#a231d52a867b447e6cc8ebbe415d855bb" title="データを逐次的に読み取りながら解析します。" alt="" coords="777,800,920,841"/>
<area shape="poly" id="edge27_Node000005_Node000026" title=" " alt="" coords="624,651,682,716,721,752,764,785,773,790,770,795,761,789,718,757,678,720,620,655"/>
<area shape="rect" id="Node000034" href="$class_identify_location_state.html#aa290323ea9d092dfced1ecef61f21a4c" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="776,865,921,906"/>
<area shape="poly" id="edge36_Node000005_Node000034" title=" " alt="" coords="618,652,639,693,672,746,714,801,764,850,770,855,767,859,761,854,710,805,667,749,635,696,613,654"/>
<area shape="rect" id="Node000038" href="$class_parsing_body_state.html#a84c05e6122297eb58e0863755934ba79" title="HTTPリクエストの解析を行います。" alt="" coords="762,970,935,996"/>
<area shape="poly" id="edge40_Node000005_Node000038" title=" " alt="" coords="616,652,637,702,670,770,713,845,764,916,788,939,814,959,811,963,785,943,760,919,708,848,665,773,632,704,611,654"/>
<area shape="rect" id="Node000044" href="$class_response_str_build_state.html#aab058472aeb563041e918bed4c5c3b17" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="770,555,927,595"/>
<area shape="poly" id="edge46_Node000005_Node000044" title=" " alt="" coords="693,609,754,594,755,600,695,614"/>
<area shape="rect" id="Node000007" href="$class_util_http_processing_step.html#a21282f874e910a6bbb63719d6199efe6" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="1313,497,1471,538"/>
<area shape="poly" id="edge6_Node000006_Node000007" title=" " alt="" coords="1185,494,1297,505,1297,511,1184,499"/>
<area shape="rect" id="Node000008" href="$class_util_http_processing_step.html#ab9931d09caf710018e021acf13e11e93" title="レスポンスボディを設定し、その長さに基づいてレスポンスのContent&#45;Lengthヘッダーを設定します。" alt="" coords="1591,389,1749,430"/>
<area shape="poly" id="edge7_Node000006_Node000008" title=" " alt="" coords="1184,475,1575,420,1576,425,1185,480"/>
<area shape="rect" id="Node000010" href="$class_response_str_build_state.html#a02838bcf03951383fff1f024c91bc109" title=" " alt="" coords="1276,563,1507,603"/>
<area shape="poly" id="edge9_Node000009_Node000010" title=" " alt="" coords="1185,569,1260,573,1260,578,1184,574"/>
<area shape="rect" id="Node000014" href="$class_cgi_execution_state.html#ac2ce6937814bad9d326cb72e28457bdd" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="1000,201,1211,242"/>
<area shape="poly" id="edge13_Node000013_Node000014" title=" " alt="" coords="918,264,1002,244,1003,249,919,269"/>
<area shape="rect" id="Node000015" href="$class_cgi_execution_state.html#aaa36c8ac603138c4b2541ecb5e6c135a" title="環境変数をstd::stringからchar*に変換します。" alt="" coords="1312,5,1472,46"/>
<area shape="poly" id="edge14_Node000014_Node000015" title=" " alt="" coords="1121,199,1183,129,1226,90,1275,57,1296,46,1298,51,1277,61,1230,95,1187,133,1125,203"/>
<area shape="rect" id="Node000016" href="$class_cgi_execution_state.html#a3640636e5ea7f26c87481c7e0e1bab69" title="パイプを作成し、新しいプロセスをフォークします。" alt="" coords="1323,201,1461,242"/>
<area shape="poly" id="edge15_Node000014_Node000016" title=" " alt="" coords="1211,219,1307,219,1307,224,1211,224"/>
<area shape="rect" id="Node000017" href="$class_cgi_execution_state.html#af7a2830b1943e93db5a6e57ad1711498" title="CGIスクリプトを実行します。" alt="" coords="1323,267,1461,307"/>
<area shape="poly" id="edge16_Node000014_Node000017" title=" " alt="" coords="1198,240,1308,265,1306,270,1197,245"/>
<area shape="rect" id="Node000018" href="$class_cgi_execution_state.html#aff9df70d227ed984a62c5f44c284b116" title="CGIスクリプト実行の親プロセスの処理を実行します。" alt="" coords="1319,136,1464,177"/>
<area shape="poly" id="edge17_Node000014_Node000018" title=" " alt="" coords="1197,198,1304,174,1305,179,1198,203"/>
<area shape="rect" id="Node000020" href="$class_cgi_execution_state.html#a0a3236dd76cf8bd5a8115a348a296481" title="CGIプロセスのファイルディスクリプタをセットアップします。" alt="" coords="1287,332,1496,373"/>
<area shape="poly" id="edge20_Node000014_Node000020" title=" " alt="" coords="1139,240,1201,278,1277,317,1296,324,1294,329,1275,321,1199,283,1136,245"/>
<area shape="rect" id="Node000021" href="$class_cgi_execution_state.html#ad69e96a830c5ade8aa774703694a4413" title="CGIスクリプトの実行環境をstd::string型のvectorでセットアップします。" alt="" coords="1302,71,1481,111"/>
<area shape="poly" id="edge21_Node000014_Node000021" title=" " alt="" coords="1136,199,1199,160,1275,122,1294,114,1296,119,1277,127,1201,165,1139,203"/>
<area shape="poly" id="edge18_Node000018_Node000008" title=" " alt="" coords="1466,167,1509,187,1558,231,1599,281,1632,331,1655,374,1650,377,1627,334,1595,284,1554,234,1506,192,1463,172"/>
<area shape="rect" id="Node000019" href="$class_cgi_execution_state.html#a87dd9281aa48ff54b9c767bc58007601" title="フォークされたプロセスの終了を非ブロッキングで待ちます。" alt="" coords="1601,136,1739,177"/>
<area shape="poly" id="edge19_Node000018_Node000019" title=" " alt="" coords="1465,154,1585,154,1585,159,1465,159"/>
<area shape="rect" id="Node000022" href="$class_cgi_execution_state.html#a0ea4850cd9670c360522e59d4315b88f" title="環境変数の文字列を結合して作成し、vectorに追加します" alt="" coords="1555,71,1785,111"/>
<area shape="poly" id="edge22_Node000021_Node000022" title=" " alt="" coords="1482,88,1540,88,1540,94,1482,94"/>
<area shape="rect" id="Node000024" href="$class_content_extraction_state.html#a565b31e0c01130f683c56168e772a12d" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="993,389,1218,430"/>
<area shape="poly" id="edge24_Node000023_Node000024" title=" " alt="" coords="928,407,978,407,978,412,928,412"/>
<area shape="poly" id="edge25_Node000024_Node000008" title=" " alt="" coords="1218,407,1575,407,1575,412,1218,412"/>
<area shape="rect" id="Node000027" href="$class_header_parser_stream.html#a976623c54d7466c2e0b36bc2187f7479" title="ソケットからメッセージを受信します。" alt="" coords="1034,783,1177,823"/>
<area shape="poly" id="edge28_Node000026_Node000027" title=" " alt="" coords="920,813,1018,806,1018,812,921,818"/>
<area shape="rect" id="Node000028" href="$class_header_parser_stream.html#a4fb1ebe642377978c9ca699401f1c85a" title="受信したHTTPリクエストヘッダーを解析します。" alt="" coords="1312,832,1471,873"/>
<area shape="poly" id="edge29_Node000027_Node000028" title=" " alt="" coords="1178,813,1297,833,1296,839,1177,818"/>
<area shape="rect" id="Node000032" href="$class_header_parser_stream.html#aca8853f3ffd75cb79e8ab68d965d48c4" title="HTTPリクエストボディを受信します。" alt="" coords="1317,767,1467,807"/>
<area shape="poly" id="edge33_Node000027_Node000032" title=" " alt="" coords="1177,796,1301,789,1301,795,1178,802"/>
<area shape="rect" id="Node000033" href="$class_header_parser_stream.html#adade1c979989d5670bc8759c6318dd2a" title="受信したデータをベクターに追加します。" alt="" coords="1590,709,1750,750"/>
<area shape="poly" id="edge35_Node000027_Node000033" title=" " alt="" coords="1168,779,1220,765,1276,752,1354,741,1433,734,1575,727,1575,733,1434,739,1354,747,1276,758,1221,770,1169,785"/>
<area shape="rect" id="Node000029" href="$class_header_parser_stream.html#adf1b4d67ca01d835bf3fd4102ec6e608" title="HTTPリクエストヘッダーを解析します。" alt="" coords="1594,840,1746,881"/>
<area shape="poly" id="edge30_Node000028_Node000029" title=" " alt="" coords="1472,852,1579,855,1578,860,1472,857"/>
<area shape="rect" id="Node000031" href="$class_header_parser_stream.html#a0a4d53d99544647884a82e0cc2203936" title="HTTPリクエストラインを解析します。" alt="" coords="1598,775,1742,815"/>
<area shape="poly" id="edge32_Node000028_Node000031" title=" " alt="" coords="1471,833,1583,810,1584,815,1473,839"/>
<area shape="rect" id="Node000030" href="$class_header_parser_stream.html#ac07c7ad79d2dc56ce06eb41e5cbf5235" title="特定のHTTPヘッダーを処理し、関連する情報を格納します。" alt="" coords="1833,840,1992,881"/>
<area shape="poly" id="edge31_Node000029_Node000030" title=" " alt="" coords="1747,858,1817,858,1817,863,1747,863"/>
<area shape="poly" id="edge34_Node000032_Node000033" title=" " alt="" coords="1467,769,1575,747,1576,752,1468,774"/>
<area shape="rect" id="Node000035" href="$class_identify_location_state.html#a5c4f6cc671ed7dad98dd5fa58feae69c" title="クライアントのリクエストURIに基づいて適切な LocationDirective を識別します。" alt="" coords="995,865,1216,906"/>
<area shape="poly" id="edge37_Node000034_Node000035" title=" " alt="" coords="921,883,979,883,979,888,921,888"/>
<area shape="rect" id="Node000036" href="$class_identify_location_state.html#a617243d028b31872ffbe3719c39abf27" title="一致する LocationDirective を見つけます。" alt="" coords="1290,901,1494,942"/>
<area shape="poly" id="edge38_Node000035_Node000036" title=" " alt="" coords="1217,897,1274,904,1273,910,1216,902"/>
<area shape="rect" id="Node000037" href="$class_identify_location_state.html#a76736f8586e16547bfe15a23f03f887e" title="URIパターンがロケーションディレクティブに一致するかを判断します。" alt="" coords="1597,905,1743,946"/>
<area shape="poly" id="edge39_Node000036_Node000037" title=" " alt="" coords="1495,920,1582,922,1582,927,1494,926"/>
<area shape="rect" id="Node000039" href="$class_parsing_body_state.html#a0f773ef745b2d1d6926a02a14be8623f" title="リクエストURIから拡張子を抽出します。" alt="" coords="1001,931,1210,971"/>
<area shape="poly" id="edge41_Node000038_Node000039" title=" " alt="" coords="935,970,986,963,986,969,936,975"/>
<area shape="rect" id="Node000040" href="$class_parsing_body_state.html#a869dc59d24bb341260124ce9b9a31f24" title="URIから&quot;.cgi&quot;が存在する場合、その後に続くpathinfoとクエリ文字列を抽出します" alt="" coords="1008,996,1203,1037"/>
<area shape="poly" id="edge42_Node000038_Node000040" title=" " alt="" coords="936,992,992,999,992,1004,935,997"/>
<area shape="rect" id="Node000041" href="$class_parsing_body_state.html#ac4e24d9a1e9f5cc6ba348340f2c3eb58" title="HTTPリクエストボディを解析します。" alt="" coords="983,1061,1228,1087"/>
<area shape="poly" id="edge43_Node000038_Node000041" title=" " alt="" coords="874,994,923,1020,984,1046,1012,1054,1010,1059,982,1051,921,1025,871,999"/>
<area shape="rect" id="Node000042" href="$class_parsing_body_state.html#a038ea446c8c7688dfd53af4afd944c9d" title=" " alt="" coords="1306,1020,1478,1061"/>
<area shape="poly" id="edge44_Node000041_Node000042" title=" " alt="" coords="1221,1058,1290,1049,1290,1055,1222,1063"/>
<area shape="rect" id="Node000043" href="$class_parsing_body_state.html#a85a43d44071d51ee96dd501ccc850d59" title="チャンクエンコーディングの際のリクエストボディを解析します" alt="" coords="1305,1085,1478,1126"/>
<area shape="poly" id="edge45_Node000041_Node000043" title=" " alt="" coords="1226,1084,1290,1092,1290,1097,1226,1090"/>
<area shape="poly" id="edge47_Node000044_Node000006" title=" " alt="" coords="910,551,1027,512,1029,517,912,557"/>
<area shape="poly" id="edge48_Node000044_Node000009" title=" " alt="" coords="928,570,1011,567,1011,573,928,575"/>
<area shape="poly" id="edge49_Node000044_Node000011" title=" " alt="" coords="928,590,1002,607,1001,612,927,595"/>
</map>
