<map id="HttpTransaction::processHttpRequest" name="HttpTransaction::processHttpRequest">
<area shape="rect" id="Node000001" title="HTTPリクエストを処理し、対応するHTTPレスポンスを生成します。" alt="" coords="5,464,174,505"/>
<area shape="rect" id="Node000002" href="$class_http_workflow_manager.html#acb64aed701e02182ff6d627b692c2ba8" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="222,431,406,471"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="174,469,206,464,206,470,174,474"/>
<area shape="rect" id="Node000042" href="$class_http_transaction.html#ac3b0816e83d73326e10ba91bfdaf539b" title="受信データを初期化し、このトランザクションのリクエストを処理する準備を行います。" alt="" coords="229,496,399,537"/>
<area shape="poly" id="edge43_Node000001_Node000042" title=" " alt="" coords="174,494,214,499,214,505,174,499"/>
<area shape="rect" id="Node000003" href="$class_cgi_execution_state.html#aecf27444a140a66641a2b9a35327fca5" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="492,232,630,273"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="333,428,385,377,452,318,510,279,513,283,456,322,389,380,337,432"/>
<area shape="rect" id="Node000013" href="$class_content_extraction_state.html#a127f220bca1ccb5923933c272c6cefe0" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="483,332,640,373"/>
<area shape="poly" id="edge12_Node000002_Node000013" title=" " alt="" coords="355,428,453,383,474,376,475,381,455,388,357,433"/>
<area shape="rect" id="Node000016" href="$class_file_path_generation_state.html#a4ee6c300ff2d365526e49a3a32cf0f11" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="480,397,643,438"/>
<area shape="poly" id="edge15_Node000002_Node000016" title=" " alt="" coords="406,436,464,428,464,433,407,441"/>
<area shape="rect" id="Node000019" href="$class_identify_connected_server_location_state.html#a725fdb9533120c327db44e35f0fddd26" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="454,463,668,503"/>
<area shape="poly" id="edge18_Node000002_Node000019" title=" " alt="" coords="407,460,439,464,438,470,406,466"/>
<area shape="rect" id="Node000026" href="$class_parsing_state.html#a0ca12a4b8e444ab0a1de139a8b9b5890" title="HTTPリクエストの解析を行います。" alt="" coords="490,682,632,708"/>
<area shape="poly" id="edge25_Node000002_Node000026" title=" " alt="" coords="387,470,408,482,455,527,496,577,527,627,549,667,545,670,523,629,491,580,451,530,404,486,384,474"/>
<area shape="rect" id="Node000033" href="$class_response_str_build_state.html#aab058472aeb563041e918bed4c5c3b17" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="483,908,640,949"/>
<area shape="poly" id="edge32_Node000002_Node000033" title=" " alt="" coords="393,470,408,483,429,512,441,541,445,568,446,595,444,652,447,684,457,719,499,816,542,894,537,896,494,818,451,721,442,685,439,652,440,595,440,568,435,542,424,515,404,486,390,474"/>
<area shape="rect" id="Node000004" href="$class_cgi_execution_state.html#ac2ce6937814bad9d326cb72e28457bdd" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="737,201,948,242"/>
<area shape="poly" id="edge3_Node000003_Node000004" title=" " alt="" coords="630,242,721,232,722,237,631,247"/>
<area shape="rect" id="Node000005" href="$class_cgi_execution_state.html#aaa36c8ac603138c4b2541ecb5e6c135a" title="環境変数をstd::stringからchar*に変換します。" alt="" coords="1054,5,1215,46"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="858,199,922,129,966,90,1015,57,1039,45,1041,50,1018,61,970,94,926,133,862,203"/>
<area shape="rect" id="Node000006" href="$class_cgi_execution_state.html#a3640636e5ea7f26c87481c7e0e1bab69" title="パイプを作成し、新しいプロセスをフォークします。" alt="" coords="1065,71,1204,111"/>
<area shape="poly" id="edge5_Node000004_Node000006" title=" " alt="" coords="874,199,938,160,1016,122,1050,110,1051,115,1018,127,940,165,877,203"/>
<area shape="rect" id="Node000007" href="$class_cgi_execution_state.html#af7a2830b1943e93db5a6e57ad1711498" title="CGIスクリプトを実行します。" alt="" coords="1065,136,1204,177"/>
<area shape="poly" id="edge6_Node000004_Node000007" title=" " alt="" coords="936,198,1049,173,1050,178,937,203"/>
<area shape="rect" id="Node000008" href="$class_cgi_execution_state.html#aff9df70d227ed984a62c5f44c284b116" title="CGIスクリプト実行の親プロセスの処理を実行します。" alt="" coords="1062,201,1207,242"/>
<area shape="poly" id="edge7_Node000004_Node000008" title=" " alt="" coords="948,219,1046,219,1046,224,948,224"/>
<area shape="rect" id="Node000010" href="$class_cgi_execution_state.html#a0a3236dd76cf8bd5a8115a348a296481" title="CGIプロセスのファイルディスクリプタをセットアップします。" alt="" coords="1030,267,1239,307"/>
<area shape="poly" id="edge9_Node000004_Node000010" title=" " alt="" coords="937,240,1026,260,1025,265,936,245"/>
<area shape="rect" id="Node000011" href="$class_cgi_execution_state.html#ad69e96a830c5ade8aa774703694a4413" title="CGIスクリプトの実行環境をstd::string型のvectorでセットアップします。" alt="" coords="1045,332,1224,373"/>
<area shape="poly" id="edge10_Node000004_Node000011" title=" " alt="" coords="941,240,970,256,986,271,995,287,1003,302,1018,317,1032,325,1030,330,1015,321,999,306,990,290,982,274,967,260,939,245"/>
<area shape="rect" id="Node000009" href="$class_cgi_execution_state.html#a87dd9281aa48ff54b9c767bc58007601" title="フォークされたプロセスの終了を非ブロッキングで待ちます。" alt="" coords="1346,201,1484,242"/>
<area shape="poly" id="edge8_Node000008_Node000009" title=" " alt="" coords="1208,219,1330,219,1330,224,1208,224"/>
<area shape="rect" id="Node000012" href="$class_cgi_execution_state.html#a0ea4850cd9670c360522e59d4315b88f" title="環境変数の文字列を結合して作成し、vectorに追加します" alt="" coords="1300,331,1529,371"/>
<area shape="poly" id="edge11_Node000011_Node000012" title=" " alt="" coords="1224,349,1285,349,1285,354,1224,355"/>
<area shape="rect" id="Node000014" href="$class_content_extraction_state.html#a477ae29cd5285bc1fdacf361c17f161d" title="有効なファイルパスを探索します。" alt="" coords="764,269,921,310"/>
<area shape="poly" id="edge13_Node000013_Node000014" title=" " alt="" coords="640,332,748,308,749,313,641,337"/>
<area shape="rect" id="Node000015" href="$class_content_extraction_state.html#a9c744c5c3ce77056db86b407f9b645a4" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="730,335,955,375"/>
<area shape="poly" id="edge14_Node000013_Node000015" title=" " alt="" coords="641,350,715,351,715,356,640,356"/>
<area shape="rect" id="Node000017" href="$class_file_path_generation_state.html#a87ce0b65b78ab5a4500237198415c220" title="HTTPリクエストに基づいて可能なすべて( open()を試行する複数 )の絶対ファイルパスを構築します。" alt="" coords="1333,396,1496,437"/>
<area shape="poly" id="edge16_Node000016_Node000017" title=" " alt="" coords="643,415,1317,414,1317,419,643,420"/>
<area shape="rect" id="Node000018" href="$class_util_http_processing_step.html#ab42a2a005346c58f81d793721139ca81" title="指定されたURIに基づいて絶対ファイルパスを構築します。" alt="" coords="1577,608,1736,649"/>
<area shape="poly" id="edge17_Node000017_Node000018" title=" " alt="" coords="1498,429,1531,446,1568,479,1599,518,1624,558,1642,593,1638,595,1620,560,1595,521,1564,483,1528,451,1495,434"/>
<area shape="rect" id="Node000020" href="$class_identify_connected_server_location_state.html#aa8c2a5249f4cc49ea23d1aae91e10610" title="クライアントが接続しているサーバーを識別します。" alt="" coords="735,451,950,491"/>
<area shape="poly" id="edge19_Node000019_Node000020" title=" " alt="" coords="669,476,720,474,720,479,669,481"/>
<area shape="rect" id="Node000023" href="$class_identify_connected_server_location_state.html#a3e61e0d75e731d5f0b0791b536254f65" title="クライアントのリクエストURIに基づいて適切な LocationDirective を識別します。" alt="" coords="716,516,969,557"/>
<area shape="poly" id="edge22_Node000019_Node000023" title=" " alt="" coords="669,501,717,510,716,515,668,506"/>
<area shape="rect" id="Node000021" href="$class_port_mapping.html#a1c5d6ef805606cc3689fba9f38df1988" title="クライアントが接続したサーバーのリッスンポート番号を取得します。" alt="" coords="1043,451,1226,491"/>
<area shape="poly" id="edge20_Node000020_Node000021" title=" " alt="" coords="950,468,1027,468,1027,474,950,474"/>
<area shape="rect" id="Node000022" href="$class_port_mapping.html#a7988c74208b6c0ee10fe927ceac12490" title="指定されたキーに基づきポート番号をmapから取得します。std::map&lt;int, int&gt;型のmapに共通で使用します。" alt="" coords="1315,461,1514,487"/>
<area shape="poly" id="edge21_Node000021_Node000022" title=" " alt="" coords="1227,469,1299,470,1299,475,1227,475"/>
<area shape="rect" id="Node000024" href="$class_identify_connected_server_location_state.html#a64d8e090b131760364eea73d1806ee96" title="一致する LocationDirective を見つけます。" alt="" coords="1017,516,1252,557"/>
<area shape="poly" id="edge23_Node000023_Node000024" title=" " alt="" coords="969,534,1001,534,1001,539,969,539"/>
<area shape="rect" id="Node000025" href="$class_identify_connected_server_location_state.html#a33a5ee2dccb5a80570dbc33122d56bb3" title="URIパターンがロケーションディレクティブに一致するかを判断します。" alt="" coords="1308,516,1522,557"/>
<area shape="poly" id="edge24_Node000024_Node000025" title=" " alt="" coords="1253,534,1292,534,1292,539,1253,539"/>
<area shape="rect" id="Node000027" href="$class_parsing_state.html#ab18ab5cde5c9a8cc12eb449130952b83" title="リクエストURIから拡張子を抽出します。" alt="" coords="753,581,932,622"/>
<area shape="poly" id="edge26_Node000026_Node000027" title=" " alt="" coords="593,679,715,632,742,624,744,629,717,638,595,684"/>
<area shape="rect" id="Node000028" href="$class_parsing_state.html#ae0532803f91744abd9808b24583c99b9" title="URIから&quot;.cgi&quot;が存在する場合、その後に続くpathinfoとクエリ文字列を抽出します" alt="" coords="751,647,934,687"/>
<area shape="poly" id="edge27_Node000026_Node000028" title=" " alt="" coords="633,685,735,675,736,680,633,691"/>
<area shape="rect" id="Node000029" href="$class_parsing_state.html#ae5902265976392a4bdc3d15cbc83fe6c" title="HTTPリクエストボディを解析します。" alt="" coords="735,712,950,737"/>
<area shape="poly" id="edge28_Node000026_Node000029" title=" " alt="" coords="633,700,720,709,719,714,633,705"/>
<area shape="rect" id="Node000031" href="$class_parsing_state.html#a55e71332b300ff96e8b9a73a6a4d97f3" title="HTTPリクエストヘッダーを解析します。" alt="" coords="750,761,935,802"/>
<area shape="poly" id="edge30_Node000026_Node000031" title=" " alt="" coords="598,706,717,747,741,754,740,759,716,752,596,711"/>
<area shape="rect" id="Node000032" href="$class_parsing_state.html#a68cb940389c1b0e5920dfabc927533b9" title="HTTPリクエストラインを解析します。" alt="" coords="738,826,947,852"/>
<area shape="poly" id="edge31_Node000026_Node000032" title=" " alt="" coords="577,707,635,758,674,787,717,811,737,819,735,824,715,816,672,792,631,762,574,710"/>
<area shape="rect" id="Node000030" href="$class_parsing_state.html#a7f5789e4470fffb0106e3268c67b7807" title="チャンクエンコーディングの際のリクエストボディを解析します" alt="" coords="1038,704,1231,745"/>
<area shape="poly" id="edge29_Node000029_Node000030" title=" " alt="" coords="951,722,1022,722,1022,727,951,727"/>
<area shape="rect" id="Node000034" href="$class_response_str_build_state.html#a21958ec54de1c2b2206854c9cec4c749" title="レスポンスボディを構築します。" alt="" coords="764,876,921,917"/>
<area shape="poly" id="edge33_Node000033_Node000034" title=" " alt="" coords="640,917,748,904,748,910,641,922"/>
<area shape="rect" id="Node000039" href="$class_response_str_build_state.html#a2b42e27ed61acd89b4f47445991861e1" title="レスポンスヘッダを構築します。" alt="" coords="764,941,921,982"/>
<area shape="poly" id="edge40_Node000033_Node000039" title=" " alt="" coords="641,935,748,948,748,953,640,940"/>
<area shape="rect" id="Node000041" href="$class_response_str_build_state.html#aa2383bb6b46c166581999fb4880efa82" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="754,1007,931,1047"/>
<area shape="poly" id="edge42_Node000033_Node000041" title=" " alt="" coords="608,947,717,991,743,999,741,1004,715,996,606,952"/>
<area shape="rect" id="Node000035" href="$class_auto_index_state.html#a7802b576a9a7ca2fd2d528b53ffe3934" title="AutoIndex機能を処理します。" alt="" coords="1056,829,1213,855"/>
<area shape="poly" id="edge34_Node000034_Node000035" title=" " alt="" coords="921,879,1047,855,1048,861,922,884"/>
<area shape="rect" id="Node000038" href="$class_util_http_processing_step.html#a2981180233e55296d44cbc638401f067" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="1336,876,1494,917"/>
<area shape="poly" id="edge39_Node000034_Node000038" title=" " alt="" coords="922,894,1320,894,1320,899,922,899"/>
<area shape="rect" id="Node000036" href="$class_auto_index_state.html#accbfc2ae04d12bb5535ffffc8a7e9a1c" title="AutoIndex on の場合のレスポンスボディを構築します" alt="" coords="1327,777,1503,803"/>
<area shape="poly" id="edge35_Node000035_Node000036" title=" " alt="" coords="1207,826,1326,803,1327,809,1208,831"/>
<area shape="rect" id="Node000037" href="$class_auto_index_state.html#aa3731fb95408354bcaa9b062d98ca3e9" title="ディレクトリに存在するファイル名を配列として取得します" alt="" coords="1325,826,1504,852"/>
<area shape="poly" id="edge36_Node000035_Node000037" title=" " alt="" coords="1213,838,1309,837,1309,843,1213,844"/>
<area shape="poly" id="edge38_Node000035_Node000038" title=" " alt="" coords="1204,852,1321,875,1320,881,1203,858"/>
<area shape="poly" id="edge37_Node000037_Node000018" title=" " alt="" coords="1504,825,1528,813,1566,779,1597,739,1622,698,1639,662,1644,664,1626,701,1602,742,1570,783,1531,817,1506,830"/>
<area shape="rect" id="Node000040" href="$class_response_str_build_state.html#a14df6589f1fcc543ec7bc8c4b99892bc" title="クライアントのリクエストヘッダーに &quot;Connection: close&quot; が存在するか確認します。" alt="" coords="1056,941,1213,982"/>
<area shape="poly" id="edge41_Node000039_Node000040" title=" " alt="" coords="922,959,1041,959,1041,964,922,964"/>
</map>
