<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>輝く未来をHugっとネ!Happy Go Lucky!ドキドキ!ドキュメント!: HttpWorkflowManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">輝く未来をHugっとネ!Happy Go Lucky!ドキドキ!ドキュメント!
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_http_workflow_manager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_http_workflow_manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">HttpWorkflowManager Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for HttpWorkflowManager:</div>
<div class="dyncontent">
<div class="center"><img src="class_http_workflow_manager__inherit__graph.png" border="0" usemap="#a_http_workflow_manager_inherit__map" alt="Inheritance graph"/></div>
<map name="a_http_workflow_manager_inherit__map" id="a_http_workflow_manager_inherit__map">
<area shape="rect" title=" " alt="" coords="5,139,201,319"/>
<area shape="rect" href="class_i_http_workflow_manager.html" title=" " alt="" coords="10,5,197,91"/>
<area shape="poly" title=" " alt="" coords="106,106,106,139,101,139,101,106"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for HttpWorkflowManager:</div>
<div class="dyncontent">
<div class="center"><img src="class_http_workflow_manager__coll__graph.png" border="0" usemap="#a_http_workflow_manager_coll__map" alt="Collaboration graph"/></div>
<map name="a_http_workflow_manager_coll__map" id="a_http_workflow_manager_coll__map">
<area shape="rect" title=" " alt="" coords="563,1231,759,1391"/>
<area shape="rect" href="class_i_http_workflow_manager.html" title=" " alt="" coords="376,953,563,1038"/>
<area shape="poly" title=" " alt="" coords="505,1049,616,1230,611,1233,500,1052"/>
<area shape="rect" href="class_http_transaction.html" title=" " alt="" coords="587,843,735,1148"/>
<area shape="poly" title=" " alt="" coords="664,1148,664,1214,659,1214,659,1148"/>
<area shape="rect" href="class_port_mapping.html" title=" " alt="" coords="5,283,192,483"/>
<area shape="poly" title=" " alt="" coords="103,482,111,551,129,625,143,662,160,697,181,729,206,758,224,773,240,783,274,791,311,792,357,796,405,800,469,801,531,806,557,812,576,821,587,829,584,833,573,825,555,817,530,811,468,807,405,805,356,802,311,797,273,796,238,787,221,777,202,762,176,732,155,699,138,664,124,627,106,552,97,483"/>
<area shape="rect" href="class_mime_type.html" title=" " alt="" coords="216,310,403,455"/>
<area shape="poly" title=" " alt="" coords="315,455,323,525,341,605,371,686,392,724,417,758,434,775,452,783,496,796,519,802,538,805,556,809,576,821,585,829,581,833,573,825,554,814,537,810,518,808,495,802,450,788,431,779,413,762,387,727,366,688,336,606,318,526,309,455"/>
<area shape="rect" href="class_tokenize.html" title=" " alt="" coords="427,310,555,455"/>
<area shape="poly" title=" " alt="" coords="504,455,529,597,548,679,569,759,592,826,587,828,564,761,542,680,524,598,498,456"/>
<area shape="rect" href="struct_http_response.html" title=" " alt="" coords="579,150,743,615"/>
<area shape="poly" title=" " alt="" coords="664,615,664,826,659,826,659,615"/>
<area shape="rect" href="struct_http_request.html" title=" " alt="" coords="767,350,873,415"/>
<area shape="poly" title=" " alt="" coords="823,415,820,485,812,582,796,691,769,800,745,859,740,857,764,798,791,690,807,581,815,485,817,415"/>
<area shape="rect" href="struct_http_cgi.html" title=" " alt="" coords="897,300,1065,465"/>
<area shape="poly" title=" " alt="" coords="978,466,967,542,946,629,914,718,893,761,867,801,811,867,750,926,746,922,807,864,863,797,888,758,909,716,941,627,961,541,973,465"/>
<area shape="rect" href="class_socket_state.html" title=" " alt="" coords="1213,823,1374,1168"/>
<area shape="poly" title=" " alt="" coords="1214,1039,775,1256,773,1252,1212,1034"/>
<area shape="rect" href="class_server_directive.html" title=" " alt="" coords="1089,5,1279,760"/>
<area shape="poly" title=" " alt="" coords="1254,759,1262,806,1257,807,1249,760"/>
<area shape="rect" href="class_location_directive.html" title=" " alt="" coords="1303,180,1502,585"/>
<area shape="poly" title=" " alt="" coords="1404,585,1395,692,1376,800,1374,807,1369,806,1371,798,1389,692,1399,585"/>
<area shape="rect" href="struct_socket_state_1_1_content_disposition.html" title=" " alt="" coords="1526,330,1730,435"/>
<area shape="poly" title=" " alt="" coords="1625,435,1612,510,1589,604,1555,705,1533,754,1508,800,1482,837,1452,870,1389,929,1385,925,1448,867,1478,833,1503,798,1529,752,1550,703,1584,603,1606,509,1619,434"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5ed3344d0b2142e65fd1a9fa4607e0fa" id="r_a5ed3344d0b2142e65fd1a9fa4607e0fa"><td class="memItemLeft" align="right" valign="top"><a id="a5ed3344d0b2142e65fd1a9fa4607e0fa" name="a5ed3344d0b2142e65fd1a9fa4607e0fa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HttpWorkflowManager</b> (<a class="el" href="class_http_transaction.html">HttpTransaction</a> &amp;httpTransaction, <a class="el" href="class_socket_state.html">SocketState</a> &amp;socketState)</td></tr>
<tr class="separator:a5ed3344d0b2142e65fd1a9fa4607e0fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0014db595ae6547c54ab46f4f3901ea9" id="r_a0014db595ae6547c54ab46f4f3901ea9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0014db595ae6547c54ab46f4f3901ea9">findValidFilePath</a> ()</td></tr>
<tr class="memdesc:a0014db595ae6547c54ab46f4f3901ea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">有効なファイルパスを探索します。  <br /></td></tr>
<tr class="separator:a0014db595ae6547c54ab46f4f3901ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4101825cfb34fb8ac65fd2f93a815af" id="r_ad4101825cfb34fb8ac65fd2f93a815af"><td class="memItemLeft" align="right" valign="top"><a id="ad4101825cfb34fb8ac65fd2f93a815af" name="ad4101825cfb34fb8ac65fd2f93a815af"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>respondImmediately</b> (<a class="el" href="class_response_str_build_state.html">ResponseStrBuildState</a> &amp;responseStrBuildState)</td></tr>
<tr class="separator:ad4101825cfb34fb8ac65fd2f93a815af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbff49b30d6647cb5381ba3d8cfb809e" id="r_adbff49b30d6647cb5381ba3d8cfb809e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adbff49b30d6647cb5381ba3d8cfb809e">shouldImmediateResponseOrProcessing</a> ()</td></tr>
<tr class="memdesc:adbff49b30d6647cb5381ba3d8cfb809e"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTPリクエストに対して即座にレスポンスするべきかどうかを判断します。  <br /></td></tr>
<tr class="separator:adbff49b30d6647cb5381ba3d8cfb809e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d2f69d56764717d9c9f65192ab6737" id="r_a09d2f69d56764717d9c9f65192ab6737"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09d2f69d56764717d9c9f65192ab6737">handleHttpProcessingStep</a> ()</td></tr>
<tr class="memdesc:a09d2f69d56764717d9c9f65192ab6737"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTPトランザクションの状態に応じたハンドラを実行します。  <br /></td></tr>
<tr class="separator:a09d2f69d56764717d9c9f65192ab6737"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae0bcaa7b65709d675c7b1a7b885200e7" id="r_ae0bcaa7b65709d675c7b1a7b885200e7"><td class="memItemLeft" align="right" valign="top"><a id="ae0bcaa7b65709d675c7b1a7b885200e7" name="ae0bcaa7b65709d675c7b1a7b885200e7"></a>
<a class="el" href="class_http_transaction.html">HttpTransaction</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>_httpTransaction</b></td></tr>
<tr class="separator:ae0bcaa7b65709d675c7b1a7b885200e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb40804e67cd801710e7cece007ba560" id="r_afb40804e67cd801710e7cece007ba560"><td class="memItemLeft" align="right" valign="top"><a id="afb40804e67cd801710e7cece007ba560" name="afb40804e67cd801710e7cece007ba560"></a>
<a class="el" href="class_socket_state.html">SocketState</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>_socketState</b></td></tr>
<tr class="separator:afb40804e67cd801710e7cece007ba560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0014db595ae6547c54ab46f4f3901ea9" name="a0014db595ae6547c54ab46f4f3901ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0014db595ae6547c54ab46f4f3901ea9">&#9670;&#160;</a></span>findValidFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HttpWorkflowManager::findValidFilePath </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>有効なファイルパスを探索します。 </p>
<p>絶対ファイルパスのリストを調べ、ステータスコードを設定し、有効なファイルパスを見つけた場合はtrueを返します。</p>
<dl class="section return"><dt>Returns</dt><dd>有効なファイルパスが見つかった場合はtrue、そうでない場合はfalse。 </dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>access function <div class="fragment"><div class="line"><span class="preprocessor">#define F_OK            0       </span><span class="comment">// test for existence of file  </span></div>
<div class="line"><span class="preprocessor">#define X_OK            (1&lt;&lt;0)  </span><span class="comment">// test for execute or search permission  </span></div>
<div class="line"><span class="preprocessor">#define W_OK            (1&lt;&lt;1)  </span><span class="comment">// test for write permission  </span></div>
<div class="line"><span class="preprocessor">#define R_OK            (1&lt;&lt;2)  </span><span class="comment">// test for read permission   </span></div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><ul>
<li>参考:【Mac OS X Manual Page For access(2)】 <a href="https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/access.2.html">https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/access.2.html</a> </li>
</ul>
</dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_http_workflow_manager_a0014db595ae6547c54ab46f4f3901ea9_icgraph.png" border="0" usemap="#aclass_http_workflow_manager_a0014db595ae6547c54ab46f4f3901ea9_icgraph" alt=""/></div>
<map name="aclass_http_workflow_manager_a0014db595ae6547c54ab46f4f3901ea9_icgraph" id="aclass_http_workflow_manager_a0014db595ae6547c54ab46f4f3901ea9_icgraph">
<area shape="rect" title="有効なファイルパスを探索します。" alt="" coords="977,5,1127,46"/>
<area shape="rect" href="class_http_workflow_manager.html#a09d2f69d56764717d9c9f65192ab6737" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="744,5,929,46"/>
<area shape="poly" title=" " alt="" coords="961,28,929,28,929,23,961,23"/>
<area shape="rect" href="class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="494,5,696,46"/>
<area shape="poly" title=" " alt="" coords="729,28,697,28,697,23,729,23"/>
<area shape="rect" href="class_network_service.html#afc2ce78b98367413538d7d84537b867e" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="255,5,446,46"/>
<area shape="poly" title=" " alt="" coords="478,28,446,28,446,23,478,23"/>
<area shape="rect" href="class_server_maneger.html#aa1a8f96cfe9f844cafc8fc5e36255ed7" title="サーバーのメインループを実行します。" alt="" coords="5,13,207,39"/>
<area shape="poly" title=" " alt="" coords="239,28,207,28,207,23,239,23"/>
</map>
</div>

</div>
</div>
<a id="a09d2f69d56764717d9c9f65192ab6737" name="a09d2f69d56764717d9c9f65192ab6737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d2f69d56764717d9c9f65192ab6737">&#9670;&#160;</a></span>handleHttpProcessingStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HttpWorkflowManager::handleHttpProcessingStep </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>HTTPトランザクションの状態に応じたハンドラを実行します。 </p>
<p>この関数はHTTPトランザクションの処理の流れを管理し、それぞれの状態に応じたhandle()を順番に実行します。 例外が発生した場合は、500 Internal Server Errorを設定し、レスポンス文字列の構築を行い再投します。</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::exception</td><td>内部サーバーエラーが発生した場合にthrowは再投しません（send()してからclose()します） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>catchブロックは handle() と全く同じ処理。handle()を呼び出すと、再帰によって無限にthrowする恐れがあるので冗長に記述 </li>
</ul>
</dd></dl>

<p>Implements <a class="el" href="class_i_http_workflow_manager.html">IHttpWorkflowManager</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_cgraph.png" border="0" usemap="#aclass_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_cgraph" alt=""/></div>
<map name="aclass_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_cgraph" id="aclass_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_cgraph">
<area shape="rect" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="5,937,190,977"/>
<area shape="rect" href="class_response_str_build_state.html#a0f55d5f37e78c4ab37c97e40b74128e4" title="レスポンスボディを構築します。" alt="" coords="521,170,678,211"/>
<area shape="poly" title=" " alt="" coords="99,936,114,818,144,645,163,555,184,471,209,402,235,353,263,322,294,296,328,273,364,254,437,224,505,204,506,210,438,229,366,259,330,278,297,300,266,326,240,356,214,404,189,473,168,556,149,646,120,819,104,936"/>
<area shape="rect" href="class_response_str_build_state.html#aa9cd3a0aeb17b8500de1c08b89211fde" title="レスポンスヘッダを構築します。" alt="" coords="521,1085,678,1125"/>
<area shape="poly" title=" " alt="" coords="189,975,329,1010,440,1044,464,1056,488,1069,508,1077,506,1082,486,1074,462,1061,438,1049,328,1016,187,980"/>
<area shape="rect" href="class_response_str_build_state.html#a94307f5ba086893af9d589e97f7d73a5" title="レスポンスのステータスライン(1行目)を構築します。" alt="" coords="511,1150,688,1191"/>
<area shape="poly" title=" " alt="" coords="126,975,177,1011,239,1044,268,1054,294,1059,340,1062,386,1067,412,1075,440,1088,456,1099,465,1111,474,1123,488,1135,501,1141,498,1146,486,1139,470,1127,461,1115,452,1103,438,1092,410,1080,385,1073,340,1068,293,1064,267,1059,237,1049,174,1015,123,980"/>
<area shape="rect" href="class_http_workflow_manager.html#a0014db595ae6547c54ab46f4f3901ea9" title="有効なファイルパスを探索します。" alt="" coords="263,1102,414,1143"/>
<area shape="poly" title=" " alt="" coords="119,976,170,1028,204,1056,239,1081,261,1093,258,1097,236,1086,200,1060,167,1032,115,980"/>
<area shape="rect" href="class_cgi_execution_state.html#a583ea5d0162a7f407a3377b9706d5157" title="CGIが必要である場合にCGIスクリプト実行処理を行います。" alt="" coords="269,562,408,603"/>
<area shape="poly" title=" " alt="" coords="110,935,313,614,318,617,114,938"/>
<area shape="rect" href="class_content_extraction_state.html#a1b828ff600c1530b66839c5507200cc9" title="HTTPリクエストに基づいてコンテンツ抽出処理を実行します。" alt="" coords="260,366,417,407"/>
<area shape="poly" title=" " alt="" coords="102,935,150,773,189,661,235,549,274,478,311,418,316,421,278,481,240,551,194,663,155,774,107,937"/>
<area shape="rect" href="class_delete_method_state.html#aa04b270749d1d2f1e4558dcf1432f02d" title="疑似 Delete method 機能を処理します。" alt="" coords="268,1167,409,1208"/>
<area shape="poly" title=" " alt="" coords="110,976,129,1014,157,1061,194,1110,239,1152,255,1162,252,1166,236,1156,191,1113,153,1064,124,1016,105,979"/>
<area shape="rect" href="class_file_path_generation_state.html#a8ba1acd7412f965ec6e82e095f154cf9" title="HTTPリクエストに基づいてファイルパス生成処理を実行します。" alt="" coords="518,694,681,735"/>
<area shape="poly" title=" " alt="" coords="123,934,174,896,236,857,309,821,384,788,518,738,520,743,386,793,311,826,239,862,177,900,126,938"/>
<area shape="rect" href="class_identify_location_state.html#a6d6d0d17c501290cde9ac46f94425b86" title="クライアントのリクエストURIに基づいて適切なサーバーとロケーションを識別しセットします。" alt="" coords="266,1233,411,1273"/>
<area shape="poly" title=" " alt="" coords="107,977,122,1026,148,1091,187,1159,212,1190,239,1217,254,1227,251,1232,236,1222,208,1193,183,1162,144,1093,117,1028,102,978"/>
<area shape="rect" href="class_parsing_request_state.html#a2621c1d2bf5d432065dee9c5b13b904d" title="HTTPリクエストの解析を行います。" alt="" coords="266,871,411,912"/>
<area shape="poly" title=" " alt="" coords="174,933,250,913,251,918,176,939"/>
<area shape="rect" href="class_recv_header_lexer_state.html#ae494c259cb88bb3b824f6af8672d6376" title="データを逐次的に読み取りながら解析します。" alt="" coords="260,1313,417,1353"/>
<area shape="poly" title=" " alt="" coords="105,977,118,1036,143,1117,161,1161,183,1204,209,1246,240,1283,265,1303,262,1307,236,1287,205,1249,178,1207,156,1163,138,1118,113,1037,100,978"/>
<area shape="rect" href="class_response_str_build_state.html#a7b9feab17aef82874d3bc584a1f67e6f" title="クライアントにsend()するレスポンスメッセージを構築します。" alt="" coords="260,937,417,977"/>
<area shape="poly" title=" " alt="" coords="190,954,244,954,244,960,190,960"/>
<area shape="rect" href="class_http_workflow_manager.html#adbff49b30d6647cb5381ba3d8cfb809e" title="HTTPリクエストに対して即座にレスポンスするべきかどうかを判断します。" alt="" coords="238,132,439,187"/>
<area shape="poly" title=" " alt="" coords="98,936,114,800,143,595,162,487,184,386,209,301,235,239,254,215,276,195,279,199,258,219,240,242,214,303,189,388,168,488,148,596,119,801,104,936"/>
<area shape="rect" href="class_util_http_processing_step.html#a7b8027cc3b454260cfb2334162faf5a5" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="796,105,954,145"/>
<area shape="poly" title=" " alt="" coords="678,169,780,144,781,150,679,174"/>
<area shape="rect" href="class_util_http_processing_step.html#ab9931d09caf710018e021acf13e11e93" title="レスポンスボディを設定し、その長さに基づいてレスポンスのContent&#45;Lengthヘッダーを設定します。" alt="" coords="796,170,954,211"/>
<area shape="poly" title=" " alt="" coords="678,188,780,188,780,193,678,193"/>
<area shape="rect" href="class_response_str_build_state.html#a02838bcf03951383fff1f024c91bc109" title=" " alt="" coords="759,1150,991,1191"/>
<area shape="poly" title=" " alt="" coords="679,1121,772,1143,771,1148,678,1126"/>
<area shape="rect" href="class_response_str_build_state.html#a71e4e179bf069803d09000ef75331d5d" title="レスポンスヘッダーに適切なContent&#45;Typeを設定します。" alt="" coords="789,1085,961,1125"/>
<area shape="poly" title=" " alt="" coords="678,1102,773,1102,773,1108,678,1108"/>
<area shape="rect" href="class_cgi_execution_state.html#a6cc80ee59a0491eadbc959c7de0bc90a" title="CGIスクリプトを子プロセスで実行します。" alt="" coords="494,562,704,603"/>
<area shape="poly" title=" " alt="" coords="408,580,479,580,479,585,408,585"/>
<area shape="rect" href="class_cgi_execution_state.html#ac90758d6a2c43bb933d1437154a67255" title="CGIの出力結果をヘッダーとボディに分離します" alt="" coords="530,301,668,341"/>
<area shape="poly" title=" " alt="" coords="358,559,565,350,569,354,362,563"/>
<area shape="rect" href="class_cgi_execution_state.html#aaa36c8ac603138c4b2541ecb5e6c135a" title="環境変数をstd::stringからchar*に変換します。" alt="" coords="795,562,955,603"/>
<area shape="poly" title=" " alt="" coords="705,580,779,580,779,585,705,585"/>
<area shape="rect" href="class_cgi_execution_state.html#a3640636e5ea7f26c87481c7e0e1bab69" title="パイプを作成し、新しいプロセスをフォークします。" alt="" coords="806,627,944,668"/>
<area shape="poly" title=" " alt="" coords="689,601,791,625,790,630,687,606"/>
<area shape="rect" href="class_util_http_processing_step.html#ada47c31af29a6f653e509b8c12499f0d" title="SocketState オブジェクトのデバッグ情報を出力します。" alt="" coords="796,823,954,864"/>
<area shape="poly" title=" " alt="" coords="632,601,674,635,714,681,724,699,730,717,734,749,740,779,748,793,761,808,783,823,780,827,758,812,744,796,735,781,729,750,724,718,719,701,709,684,670,639,629,605"/>
<area shape="rect" href="class_cgi_execution_state.html#a12d614bd895d492fc63675f349266415" title="CGIスクリプトを実行します。" alt="" coords="806,366,944,407"/>
<area shape="poly" title=" " alt="" coords="613,560,671,490,712,451,758,417,790,402,792,407,761,422,715,455,675,494,617,563"/>
<area shape="rect" href="class_cgi_execution_state.html#a06397db53835040bc91ef82d21efd538" title="CGIスクリプト実行の親プロセスの処理を実行します。" alt="" coords="802,693,948,733"/>
<area shape="poly" title=" " alt="" coords="631,601,689,639,760,677,788,688,786,693,758,682,686,644,628,605"/>
<area shape="rect" href="class_cgi_execution_state.html#a0a3236dd76cf8bd5a8115a348a296481" title="CGIプロセスのファイルディスクリプタをセットアップします。" alt="" coords="770,431,980,472"/>
<area shape="poly" title=" " alt="" coords="628,559,686,521,758,482,777,475,779,480,760,487,689,525,631,564"/>
<area shape="rect" href="class_cgi_execution_state.html#aee14557029b7e57f3c911a28f5ec0c55" title="CGIスクリプトの実行環境をstd::string型のvectorでセットアップします。" alt="" coords="785,497,965,537"/>
<area shape="poly" title=" " alt="" coords="687,559,771,539,772,544,689,564"/>
<area shape="rect" href="class_cgi_execution_state.html#a26f14ddb42559ff3e9174dc9b9d9912c" title="フォークされたプロセスの終了を非ブロッキングで待ちます。" alt="" coords="1049,693,1188,733"/>
<area shape="poly" title=" " alt="" coords="948,710,1033,710,1033,716,948,716"/>
<area shape="poly" title=" " alt="" coords="668,305,710,285,725,270,733,254,741,238,758,221,780,209,783,214,761,226,746,241,738,257,729,273,713,290,670,310"/>
<area shape="rect" href="class_cgi_execution_state.html#a50fedd6ac6adc3d9e574a64d20c77f40" title="CGIヘッダー全体を解析します。" alt="" coords="806,301,944,341"/>
<area shape="poly" title=" " alt="" coords="669,318,790,318,790,324,669,324"/>
<area shape="rect" href="class_cgi_execution_state.html#aaea3ec2c91f6d6d4fb47b251fc5d338e" title="改行記号を変換するために使用します" alt="" coords="804,235,946,276"/>
<area shape="poly" title=" " alt="" coords="668,302,789,273,790,278,669,307"/>
<area shape="rect" href="class_content_extraction_state.html#a2ad6daeca81781bd47c508fc7f080f5e" title="ファイルの内容をHTTPレスポンスボディに読み込みます。" alt="" coords="487,235,711,276"/>
<area shape="poly" title=" " alt="" coords="364,363,419,325,486,286,503,279,505,284,488,291,422,329,367,368"/>
<area shape="poly" title=" " alt="" coords="687,232,780,210,781,215,689,237"/>
<area shape="poly" title=" " alt="" coords="679,733,713,751,729,766,737,780,746,794,761,808,783,820,780,824,758,812,742,798,733,783,724,769,710,755,676,737"/>
<area shape="rect" href="class_file_path_generation_state.html#ab9a85d03be875b1bc2e19046d93a630c" title="HTTPリクエストに基づいて可能なすべて( open()を試行する複数 )の絶対ファイルパスを構築します。" alt="" coords="793,758,957,799"/>
<area shape="poly" title=" " alt="" coords="682,731,779,753,778,758,681,736"/>
<area shape="rect" href="class_util_http_processing_step.html#a59d2ac26324fd367151fcfe6bb787864" title="指定されたURIに基づいて絶対ファイルパスを構築します。" alt="" coords="1039,758,1198,799"/>
<area shape="poly" title=" " alt="" coords="957,776,1024,776,1024,781,957,781"/>
<area shape="rect" href="class_identify_location_state.html#af41f5b6d4844a68fc735327f57ce8eb7" title="クライアントのリクエストURIに基づいて適切な LocationDirective を識別します。" alt="" coords="489,1215,710,1256"/>
<area shape="poly" title=" " alt="" coords="411,1245,473,1241,474,1247,411,1251"/>
<area shape="rect" href="class_identify_location_state.html#a1fe1886fabd208561b2486779ccec9e2" title="現在のリクエストが特定のロケーションディレクティブに適合しているか検証します。" alt="" coords="502,1281,696,1321"/>
<area shape="poly" title=" " alt="" coords="411,1263,487,1278,486,1283,410,1269"/>
<area shape="rect" href="class_identify_location_state.html#ab13ab10cecea13ff3f356e1b5733b74c" title="一致する LocationDirective を見つけます。" alt="" coords="773,1215,977,1256"/>
<area shape="poly" title=" " alt="" coords="710,1233,757,1233,757,1238,710,1238"/>
<area shape="poly" title=" " alt="" coords="361,869,415,828,450,809,486,794,548,780,598,778,712,794,788,816,787,821,711,799,598,784,549,786,488,799,452,814,418,833,364,873"/>
<area shape="rect" href="class_parsing_request_state.html#a44fe05182b403c5bb33015f5b00e19a2" title="リクエストURIから拡張子を抽出します。" alt="" coords="519,1019,680,1060"/>
<area shape="poly" title=" " alt="" coords="413,906,441,923,458,944,465,965,472,985,489,1004,506,1015,503,1019,485,1008,468,988,460,967,453,946,437,927,410,911"/>
<area shape="rect" href="class_parsing_request_state.html#a289d24bf24d1266909efac852d1b5a15" title="URIから&quot;.cgi&quot;が存在する場合、その後に続くpathinfoとクエリ文字列を抽出します" alt="" coords="495,809,703,865"/>
<area shape="poly" title=" " alt="" coords="411,874,479,859,481,864,412,879"/>
<area shape="rect" href="class_parsing_request_state.html#aefb7eb2c4d17a49fbd188749e422e87a" title="HTTPクエリ文字列から&quot;delete_file_name=&quot;の後ろの部分を抽出し、 _socketState._deleteFileNameに格納します。 また、_socketState...." alt="" coords="501,889,698,929"/>
<area shape="poly" title=" " alt="" coords="412,894,485,899,485,904,411,899"/>
<area shape="rect" href="class_parsing_request_state.html#a0e327b89d7a11d2a8c00b4e49683a222" title="HTTPリクエストボディを解析します。" alt="" coords="527,954,672,995"/>
<area shape="poly" title=" " alt="" coords="403,910,488,938,514,946,512,951,486,943,401,915"/>
<area shape="rect" href="class_parsing_request_state.html#af4d0a8fe76ce9333f22769e9c863465c" title="指定された拡張子に対応するMIMEタイプが有効かどうかを検証します。" alt="" coords="802,1019,948,1060"/>
<area shape="poly" title=" " alt="" coords="680,1037,786,1037,786,1042,680,1042"/>
<area shape="rect" href="class_parsing_multi_part_state.html#aff379087732c08fed8aa91e7ccd5a43c" title="マルチパートフォームデータを解析します。" alt="" coords="801,954,949,995"/>
<area shape="poly" title=" " alt="" coords="672,972,785,972,785,977,672,977"/>
<area shape="rect" href="class_parsing_request_state.html#a272f390a4a4f5f9c7ada254b58f24598" title="チャンクエンコーディングの際のリクエストボディを解析します" alt="" coords="797,889,953,929"/>
<area shape="poly" title=" " alt="" coords="672,954,782,928,783,933,673,960"/>
<area shape="rect" href="class_recv_header_lexer_state.html#a1441b2cc3c6a1ec2dde32e9ce51401ce" title="ソケットからメッセージを受信します。" alt="" coords="521,1346,678,1387"/>
<area shape="poly" title=" " alt="" coords="418,1340,505,1352,505,1357,417,1346"/>
<area shape="rect" href="class_recv_header_lexer_state.html#a2fb1c8f19c4da01875b5b0d5b21706be" title="受信したHTTPリクエストヘッダーを解析します。" alt="" coords="795,1281,955,1321"/>
<area shape="poly" title=" " alt="" coords="678,1345,779,1321,780,1326,679,1350"/>
<area shape="rect" href="class_recv_header_lexer_state.html#a5ea2e1151da9d4a3fca01701c4f1726c" title="HTTPリクエストボディを受信します。" alt="" coords="796,1346,954,1387"/>
<area shape="poly" title=" " alt="" coords="678,1364,781,1364,781,1369,678,1369"/>
<area shape="rect" href="class_recv_header_lexer_state.html#a3066f47225f8ec0d30ad4f23f28aa704" title="受信したデータをベクターに追加します。" alt="" coords="1039,1374,1198,1415"/>
<area shape="poly" title=" " alt="" coords="679,1382,760,1396,824,1400,875,1400,991,1396,1023,1395,1023,1400,991,1401,875,1405,824,1405,759,1401,678,1388"/>
<area shape="poly" title=" " alt="" coords="954,1373,1023,1381,1023,1386,953,1378"/>
<area shape="poly" title=" " alt="" coords="416,939,437,922,452,896,462,862,468,823,470,779,468,680,460,573,452,466,449,367,452,322,458,283,469,249,485,222,505,205,509,209,489,225,474,251,464,284,457,323,455,367,457,466,465,573,473,680,476,779,473,824,467,864,457,898,441,925,419,943"/>
<area shape="poly" title=" " alt="" coords="412,975,441,993,457,1013,465,1033,473,1052,489,1069,507,1081,504,1085,485,1074,468,1054,460,1035,453,1016,437,998,409,980"/>
<area shape="poly" title=" " alt="" coords="370,976,406,1006,441,1045,456,1070,463,1093,471,1114,489,1135,499,1142,495,1146,485,1139,466,1117,458,1095,451,1072,437,1048,402,1010,366,980"/>
<area shape="rect" href="class_auto_index_state.html#ae84bd50d171c70674d85bf49ef5a5de9" title="AutoIndex機能を処理します。" alt="" coords="521,112,678,138"/>
<area shape="poly" title=" " alt="" coords="439,143,504,135,505,140,440,149"/>
<area shape="poly" title=" " alt="" coords="678,122,780,122,780,128,678,128"/>
<area shape="poly" title=" " alt="" coords="657,136,781,165,780,171,656,141"/>
<area shape="rect" href="class_auto_index_state.html#aeaf8392a5d89a5ef9f743fd174f9563d" title="AutoIndex on の場合のレスポンスボディを構築します" alt="" coords="787,5,963,31"/>
<area shape="poly" title=" " alt="" coords="620,109,681,74,758,40,780,33,782,38,760,45,683,79,623,114"/>
<area shape="rect" href="class_auto_index_state.html#a9d8da84a7b77fbcef61fcc20b470bd1a" title="ディレクトリに存在するファイル名を配列として取得します" alt="" coords="785,55,965,80"/>
<area shape="poly" title=" " alt="" coords="664,109,794,81,795,87,665,114"/>
<area shape="poly" title=" " alt="" coords="967,73,993,91,1008,116,1019,147,1026,183,1029,224,1028,316,1021,416,1014,516,1012,608,1019,687,1028,718,1041,743,1042,745,1038,749,1036,746,1023,720,1014,688,1006,609,1009,515,1016,416,1023,316,1024,225,1021,184,1014,148,1004,118,989,95,964,77"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_icgraph.png" border="0" usemap="#aclass_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_icgraph" alt=""/></div>
<map name="aclass_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_icgraph" id="aclass_http_workflow_manager_a09d2f69d56764717d9c9f65192ab6737_icgraph">
<area shape="rect" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="744,5,929,46"/>
<area shape="rect" href="class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="494,5,696,46"/>
<area shape="poly" title=" " alt="" coords="729,28,697,28,697,23,729,23"/>
<area shape="rect" href="class_network_service.html#afc2ce78b98367413538d7d84537b867e" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="255,5,446,46"/>
<area shape="poly" title=" " alt="" coords="478,28,446,28,446,23,478,23"/>
<area shape="rect" href="class_server_maneger.html#aa1a8f96cfe9f844cafc8fc5e36255ed7" title="サーバーのメインループを実行します。" alt="" coords="5,13,207,39"/>
<area shape="poly" title=" " alt="" coords="239,28,207,28,207,23,239,23"/>
</map>
</div>

</div>
</div>
<a id="adbff49b30d6647cb5381ba3d8cfb809e" name="adbff49b30d6647cb5381ba3d8cfb809e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbff49b30d6647cb5381ba3d8cfb809e">&#9670;&#160;</a></span>shouldImmediateResponseOrProcessing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HttpWorkflowManager::shouldImmediateResponseOrProcessing </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HTTPリクエストに対して即座にレスポンスするべきかどうかを判断します。 </p>
<p>この関数は、HTTPトランザクションの状態や設定に基づいて、 レスポンスを即座に返すべきかどうかを判断します。 以下の条件に一致する場合、即時レスポンスすべきです：</p><ul>
<li>ステータスコードが300から599の範囲内である場合。</li>
<li>AutoIndexが有効であり、かつメソッドがDELETEではない場合。</li>
<li>Locationが301 Moved Permanentlyに設定されている場合。</li>
<li>その他、HttpTransactionが即時レスポンスを要求している場合。</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>true 即時レスポンスが必要な場合。 </dd>
<dd>
false 即時レスポンスが不要で、処理を続行する場合。 </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_cgraph.png" border="0" usemap="#aclass_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_cgraph" alt=""/></div>
<map name="aclass_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_cgraph" id="aclass_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_cgraph">
<area shape="rect" title="HTTPリクエストに対して即座にレスポンスするべきかどうかを判断します。" alt="" coords="5,69,207,125"/>
<area shape="rect" href="class_auto_index_state.html#ae84bd50d171c70674d85bf49ef5a5de9" title="AutoIndex機能を処理します。" alt="" coords="255,84,412,110"/>
<area shape="poly" title=" " alt="" coords="207,94,239,94,239,100,207,100"/>
<area shape="rect" href="class_auto_index_state.html#aeaf8392a5d89a5ef9f743fd174f9563d" title="AutoIndex on の場合のレスポンスボディを構築します" alt="" coords="462,5,638,31"/>
<area shape="poly" title=" " alt="" coords="361,81,459,40,479,33,480,38,461,45,363,86"/>
<area shape="rect" href="class_auto_index_state.html#a9d8da84a7b77fbcef61fcc20b470bd1a" title="ディレクトリに存在するファイル名を配列として取得します" alt="" coords="460,55,639,80"/>
<area shape="poly" title=" " alt="" coords="412,84,444,79,445,84,413,89"/>
<area shape="rect" href="class_util_http_processing_step.html#a7b8027cc3b454260cfb2334162faf5a5" title="404や500など、ステータスコードに対応するエラーページの内容を返します。" alt="" coords="471,105,629,145"/>
<area shape="poly" title=" " alt="" coords="413,104,455,110,454,115,412,110"/>
<area shape="rect" href="class_util_http_processing_step.html#ab9931d09caf710018e021acf13e11e93" title="レスポンスボディを設定し、その長さに基づいてレスポンスのContent&#45;Lengthヘッダーを設定します。" alt="" coords="471,170,629,211"/>
<area shape="poly" title=" " alt="" coords="362,108,461,154,478,161,476,166,459,159,360,113"/>
<area shape="rect" href="class_util_http_processing_step.html#a59d2ac26324fd367151fcfe6bb787864" title="指定されたURIに基づいて絶対ファイルパスを構築します。" alt="" coords="687,47,846,88"/>
<area shape="poly" title=" " alt="" coords="640,65,672,65,672,70,640,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_icgraph.png" border="0" usemap="#aclass_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_icgraph" alt=""/></div>
<map name="aclass_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_icgraph" id="aclass_http_workflow_manager_adbff49b30d6647cb5381ba3d8cfb809e_icgraph">
<area shape="rect" title="HTTPリクエストに対して即座にレスポンスするべきかどうかを判断します。" alt="" coords="977,5,1178,61"/>
<area shape="rect" href="class_http_workflow_manager.html#a09d2f69d56764717d9c9f65192ab6737" title="HTTPトランザクションの状態に応じたハンドラを実行します。" alt="" coords="744,13,929,54"/>
<area shape="poly" title=" " alt="" coords="961,36,929,36,929,31,961,31"/>
<area shape="rect" href="class_network_service.html#a1b6605ad0ddb71f1fc7a87ff616cf872" title="クライアントのHTTPセッションを実行します。" alt="" coords="494,13,696,54"/>
<area shape="poly" title=" " alt="" coords="729,36,697,36,697,31,729,31"/>
<area shape="rect" href="class_network_service.html#afc2ce78b98367413538d7d84537b867e" title="すべてのクライアントソケットからのリクエストを処理します。" alt="" coords="255,13,446,54"/>
<area shape="poly" title=" " alt="" coords="478,36,446,36,446,31,478,31"/>
<area shape="rect" href="class_server_maneger.html#aa1a8f96cfe9f844cafc8fc5e36255ed7" title="サーバーのメインループを実行します。" alt="" coords="5,20,207,46"/>
<area shape="poly" title=" " alt="" coords="239,36,207,36,207,31,239,31"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/http/<a class="el" href="_http_workflow_manager_8hpp_source.html">HttpWorkflowManager.hpp</a></li>
<li>srcs/HttpTransaction/<b>HttpWorkflowManager.cpp</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_http_workflow_manager.html">HttpWorkflowManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
